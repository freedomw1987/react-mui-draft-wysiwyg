{"version":3,"file":"index.modern.js","sources":["../src/EditorToolbar/controls/DividerControl/index.jsx","../src/hooks/useEditor.js","../src/hooks/useEditorFocus.js","../../node_modules/@babel/runtime/helpers/esm/extends.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@material-ui/utils/esm/deepmerge.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../node_modules/@material-ui/utils/esm/exactProp.js","../../node_modules/@material-ui/utils/esm/getDisplayName.js","../../node_modules/@material-ui/styles/esm/ThemeProvider/nested.js","../../node_modules/@material-ui/styles/esm/createGenerateClassName/createGenerateClassName.js","../../node_modules/tiny-warning/dist/tiny-warning.esm.js","../../node_modules/is-in-browser/dist/module.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/jss/dist/jss.esm.js","../../node_modules/jss-plugin-rule-value-function/dist/jss-plugin-rule-value-function.esm.js","../../node_modules/jss-plugin-global/dist/jss-plugin-global.esm.js","../../node_modules/jss-plugin-nested/dist/jss-plugin-nested.esm.js","../../node_modules/hyphenate-style-name/index.js","../../node_modules/jss-plugin-camel-case/dist/jss-plugin-camel-case.esm.js","../../node_modules/jss-plugin-default-unit/dist/jss-plugin-default-unit.esm.js","../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../node_modules/css-vendor/dist/css-vendor.esm.js","../../node_modules/jss-plugin-vendor-prefixer/dist/jss-plugin-vendor-prefixer.esm.js","../../node_modules/jss-plugin-props-sort/dist/jss-plugin-props-sort.esm.js","../../node_modules/@material-ui/styles/esm/jssPreset/jssPreset.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js","../../node_modules/@material-ui/styles/esm/makeStyles/multiKeyStore.js","../../node_modules/@material-ui/styles/esm/useTheme/ThemeContext.js","../../node_modules/@material-ui/styles/esm/useTheme/useTheme.js","../../node_modules/@material-ui/styles/esm/StylesProvider/StylesProvider.js","../../node_modules/@material-ui/styles/esm/makeStyles/indexCounter.js","../../node_modules/@material-ui/styles/esm/getStylesCreator/noopTheme.js","../../node_modules/@material-ui/styles/esm/getStylesCreator/getStylesCreator.js","../../node_modules/@material-ui/styles/esm/makeStyles/makeStyles.js","../src/EditorToolbar/controls/core/ButtonControl.jsx","../src/EditorToolbar/controls/UndoControl/index.jsx","../src/EditorToolbar/controls/RedoControl/index.jsx","../src/utils/editorStateUtils.js","../src/EditorToolbar/controls/core/ToggleInlineStyleButtonControl.jsx","../src/types/inlineStyles.js","../src/EditorToolbar/controls/BoldControl/index.jsx","../src/EditorToolbar/controls/ItalicControl/index.jsx","../src/EditorToolbar/controls/UnderlineControl/index.jsx","../src/EditorToolbar/controls/StrikethroughControl/index.jsx","../src/types/entities.js","../src/EditorToolbar/controls/LinkAddControl/index.jsx","../src/EditorToolbar/controls/LinkAddControl/plugin.js","../src/EditorToolbar/controls/LinkRemoveControl/index.jsx","../src/types/lang.js","../src/utils/translateUtils.js","../src/EditorToolbar/controls/core/DropdownControl.jsx","../src/EditorToolbar/controls/BlockTypeControl/index.jsx","../src/EditorToolbar/controls/core/ToggleBlockTypeButtonControl.jsx","../src/EditorToolbar/controls/UnorderedListControl/index.jsx","../src/types/blockStyles.js","../src/EditorToolbar/controls/OrderedListControl/index.jsx","../src/EditorToolbar/controls/FontFamilyControl/index.jsx","../src/EditorToolbar/controls/FontFamilyControl/plugin.js","../src/EditorToolbar/controls/TextAlignControl/index.jsx","../src/EditorToolbar/controls/TextAlignControl/plugin.js","../src/EditorToolbar/controls/FontSizeControl/index.jsx","../src/EditorToolbar/controls/FontSizeControl/plugin.js","../src/utils/colorUtils.js","../src/EditorToolbar/controls/core/ColorSelectorControl/index.jsx","../src/EditorToolbar/controls/core/ToggleInlineStyleColorSelectorControl.jsx","../src/EditorToolbar/controls/FontColorControl/index.jsx","../src/EditorToolbar/controls/FontColorControl/plugin.js","../src/EditorToolbar/controls/FontBackgroundColorControl/index.jsx","../src/EditorToolbar/controls/FontBackgroundColorControl/plugin.js","../src/EditorToolbar/controls/ImageControl/dialogs/image/ImageToUpload.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/inputs/SizeInputs.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/ByURLDialog.jsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/EditorToolbar/controls/ImageControl/dialogs/UploadDialog.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/ResizeImageDialog.js","../src/EditorToolbar/controls/ImageControl/index.jsx","../src/EditorToolbar/controls/ImageControl/plugin.js","../src/utils/fileUtils.js","../src/types/editorToolbar.js","../src/types/config.js","../src/utils/objectUtils.js","../src/lang/translations/ca.js","../src/lang/translations/en.js","../src/lang/translations/es.js","../src/lang/languages.js","../src/utils/EditorFactories.js","../src/EditorToolbar/index.jsx","../src/lang/Translator.js","../src/conversion/toHTML/block.js","../src/conversion/toHTML/entity.js","../src/conversion/toHTML/inlineStyle.js","../src/conversion/toHTML/index.js","../src/index.jsx"],"sourcesContent":["import React from 'react';\nimport Divider from '@material-ui/core/Divider';\n\nfunction DividerControl() {\n    return <Divider orientation=\"vertical\" flexItem />;\n}\n\nexport default DividerControl;\n","import React from 'react';\nimport { EditorContext } from '../index';\n\nexport default function useEditor() {\n    return React.useContext(EditorContext);\n}\n","import React from 'react';\nimport useEditor from './useEditor';\n\nexport default function useEditorFocus() {\n    const editor = useEditor();\n    const [changesCount, setChangesCount] = React.useState(0);\n\n    React.useEffect(() => {\n        if (changesCount > 0) editor.ref.focus();\n    }, [changesCount, editor.ref]);\n\n    return () => {\n        setChangesCount((currentChangesCount) => currentChangesCount + 1);\n    };\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport function isPlainObject(item) {\n  return item && _typeof(item) === 'object' && item.constructor === Object;\n}\nexport default function deepmerge(target, source) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    clone: true\n  };\n  var output = options.clone ? _extends({}, target) : target;\n\n  if (isPlainObject(target) && isPlainObject(source)) {\n    Object.keys(source).forEach(function (key) {\n      // Avoid prototype pollution\n      if (key === '__proto__') {\n        return;\n      }\n\n      if (isPlainObject(source[key]) && key in target) {\n        output[key] = deepmerge(target[key], source[key], options);\n      } else {\n        output[key] = source[key];\n      }\n    });\n  }\n\n  return output;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// This module is based on https://github.com/airbnb/prop-types-exact repository.\n// However, in order to reduce the number of dependencies and to remove some extra safe checks\n// the module was forked.\n// Only exported for test purposes.\nexport var specialProperty = \"exact-prop: \\u200B\";\nexport default function exactProp(propTypes) {\n  if (process.env.NODE_ENV === 'production') {\n    return propTypes;\n  }\n\n  return _extends({}, propTypes, _defineProperty({}, specialProperty, function (props) {\n    var unsupportedProps = Object.keys(props).filter(function (prop) {\n      return !propTypes.hasOwnProperty(prop);\n    });\n\n    if (unsupportedProps.length > 0) {\n      return new Error(\"The following props are not supported: \".concat(unsupportedProps.map(function (prop) {\n        return \"`\".concat(prop, \"`\");\n      }).join(', '), \". Please remove them.\"));\n    }\n\n    return null;\n  }));\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { ForwardRef, Memo } from 'react-is'; // Simplified polyfill for IE 11 support\n// https://github.com/JamesMGreene/Function.name/blob/58b314d4a983110c3682f1228f845d39ccca1817/Function.name.js#L3\n\nvar fnNameMatchRegex = /^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;\nexport function getFunctionName(fn) {\n  var match = \"\".concat(fn).match(fnNameMatchRegex);\n  var name = match && match[1];\n  return name || '';\n}\n/**\n * @param {function} Component\n * @param {string} fallback\n * @returns {string | undefined}\n */\n\nfunction getFunctionComponentName(Component) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return Component.displayName || Component.name || getFunctionName(Component) || fallback;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var functionName = getFunctionComponentName(innerType);\n  return outerType.displayName || (functionName !== '' ? \"\".concat(wrapperName, \"(\").concat(functionName, \")\") : wrapperName);\n}\n/**\n * cherry-pick from\n * https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/shared/getComponentName.js\n * originally forked from recompose/getDisplayName with added IE 11 support\n *\n * @param {React.ReactType} Component\n * @returns {string | undefined}\n */\n\n\nexport default function getDisplayName(Component) {\n  if (Component == null) {\n    return undefined;\n  }\n\n  if (typeof Component === 'string') {\n    return Component;\n  }\n\n  if (typeof Component === 'function') {\n    return getFunctionComponentName(Component, 'Component');\n  }\n\n  if (_typeof(Component) === 'object') {\n    switch (Component.$$typeof) {\n      case ForwardRef:\n        return getWrappedName(Component, Component.render, 'ForwardRef');\n\n      case Memo:\n        return getWrappedName(Component, Component.type, 'memo');\n\n      default:\n        return undefined;\n    }\n  }\n\n  return undefined;\n}","var hasSymbol = typeof Symbol === 'function' && Symbol.for;\nexport default hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';","import nested from '../ThemeProvider/nested';\n/**\n * This is the list of the style rule name we use as drop in replacement for the built-in\n * pseudo classes (:checked, :disabled, :focused, etc.).\n *\n * Why do they exist in the first place?\n * These classes are used at a specificity of 2.\n * It allows them to override previously definied styles as well as\n * being untouched by simple user overrides.\n */\n\nvar pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected']; // Returns a function which generates unique class names based on counters.\n// When new generator function is created, rule counter is reset.\n// We need to reset the rule counter for SSR for each request.\n//\n// It's inspired by\n// https://github.com/cssinjs/jss/blob/4e6a05dd3f7b6572fdd3ab216861d9e446c20331/src/utils/createGenerateClassName.js\n\nexport default function createGenerateClassName() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$disableGloba = options.disableGlobal,\n      disableGlobal = _options$disableGloba === void 0 ? false : _options$disableGloba,\n      _options$productionPr = options.productionPrefix,\n      productionPrefix = _options$productionPr === void 0 ? 'jss' : _options$productionPr,\n      _options$seed = options.seed,\n      seed = _options$seed === void 0 ? '' : _options$seed;\n  var seedPrefix = seed === '' ? '' : \"\".concat(seed, \"-\");\n  var ruleCounter = 0;\n\n  var getNextCounterId = function getNextCounterId() {\n    ruleCounter += 1;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (ruleCounter >= 1e10) {\n        console.warn(['Material-UI: You might have a memory leak.', 'The ruleCounter is not supposed to grow that much.'].join(''));\n      }\n    }\n\n    return ruleCounter;\n  };\n\n  return function (rule, styleSheet) {\n    var name = styleSheet.options.name; // Is a global static MUI style?\n\n    if (name && name.indexOf('Mui') === 0 && !styleSheet.options.link && !disableGlobal) {\n      // We can use a shorthand class name, we never use the keys to style the components.\n      if (pseudoClasses.indexOf(rule.key) !== -1) {\n        return \"Mui-\".concat(rule.key);\n      }\n\n      var prefix = \"\".concat(seedPrefix).concat(name, \"-\").concat(rule.key);\n\n      if (!styleSheet.options.theme[nested] || seed !== '') {\n        return prefix;\n      }\n\n      return \"\".concat(prefix, \"-\").concat(getNextCounterId());\n    }\n\n    if (process.env.NODE_ENV === 'production') {\n      return \"\".concat(seedPrefix).concat(productionPrefix).concat(getNextCounterId());\n    }\n\n    var suffix = \"\".concat(rule.key, \"-\").concat(getNextCounterId()); // Help with debuggability.\n\n    if (styleSheet.options.classNamePrefix) {\n      return \"\".concat(seedPrefix).concat(styleSheet.options.classNamePrefix, \"-\").concat(suffix);\n    }\n\n    return \"\".concat(seedPrefix).concat(suffix);\n  };\n}","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\n\nexport default isBrowser;\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport isInBrowser from 'is-in-browser';\nimport warning from 'tiny-warning';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\nvar plainObjectConstrurctor = {}.constructor;\nfunction cloneStyle(style) {\n  if (style == null || typeof style !== 'object') return style;\n  if (Array.isArray(style)) return style.map(cloneStyle);\n  if (style.constructor !== plainObjectConstrurctor) return style;\n  var newStyle = {};\n\n  for (var name in style) {\n    newStyle[name] = cloneStyle(style[name]);\n  }\n\n  return newStyle;\n}\n\n/**\n * Create a rule instance.\n */\n\nfunction createRule(name, decl, options) {\n  if (name === void 0) {\n    name = 'unnamed';\n  }\n\n  var jss = options.jss;\n  var declCopy = cloneStyle(decl);\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule; // It is an at-rule and it has no instance.\n\n  if (name[0] === '@') {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown rule \" + name) : void 0;\n  }\n\n  return null;\n}\n\nvar join = function join(value, by) {\n  var result = '';\n\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n\n  return result;\n};\n\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\nvar toCssValue = function toCssValue(value, ignoreImportant) {\n  if (ignoreImportant === void 0) {\n    ignoreImportant = false;\n  }\n\n  if (!Array.isArray(value)) return value;\n  var cssValue = ''; // Support space separated values via `[['5px', '10px']]`.\n\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', '); // Add !important, because it was ignored.\n\n\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n\n  return cssValue;\n};\n\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\nfunction indentStr(str, indent) {\n  var result = '';\n\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }\n\n  return result + str;\n}\n/**\n * Converts a Rule to CSS string.\n */\n\n\nfunction toCss(selector, style, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var result = '';\n  if (!style) return result;\n  var _options = options,\n      _options$indent = _options.indent,\n      indent = _options$indent === void 0 ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n  if (selector) indent++; // Apply fallbacks first.\n\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n\n        for (var prop in fallback) {\n          var value = fallback[prop];\n\n          if (value != null) {\n            if (result) result += '\\n';\n            result += indentStr(prop + \": \" + toCssValue(value) + \";\", indent);\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (var _prop in fallbacks) {\n        var _value = fallbacks[_prop];\n\n        if (_value != null) {\n          if (result) result += '\\n';\n          result += indentStr(_prop + \": \" + toCssValue(_value) + \";\", indent);\n        }\n      }\n    }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      if (result) result += '\\n';\n      result += indentStr(_prop2 + \": \" + toCssValue(_value2) + \";\", indent);\n    }\n  } // Allow empty style in this case, because properties will be added dynamically.\n\n\n  if (!result && !options.allowEmpty) return result; // When rule is being stringified before selector was defined.\n\n  if (!selector) return result;\n  indent--;\n  if (result) result = \"\\n\" + result + \"\\n\";\n  return indentStr(selector + \" {\" + result, indent) + indentStr('}', indent);\n}\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`\\s])/g;\nvar nativeEscape = typeof CSS !== 'undefined' && CSS.escape;\nvar escape = (function (str) {\n  return nativeEscape ? nativeEscape(str) : str.replace(escapeRegex, '\\\\$1');\n});\n\nvar BaseStyleRule =\n/*#__PURE__*/\nfunction () {\n  function BaseStyleRule(key, style, options) {\n    this.type = 'style';\n    this.key = void 0;\n    this.isProcessed = false;\n    this.style = void 0;\n    this.renderer = void 0;\n    this.renderable = void 0;\n    this.options = void 0;\n    var sheet = options.sheet,\n        Renderer = options.Renderer;\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (sheet) this.renderer = sheet.renderer;else if (Renderer) this.renderer = new Renderer();\n  }\n  /**\n   * Get or set a style property.\n   */\n\n\n  var _proto = BaseStyleRule.prototype;\n\n  _proto.prop = function prop(name, value, options) {\n    // It's a getter.\n    if (value === undefined) return this.style[name]; // Don't do anything if the value has not changed.\n\n    var force = options ? options.force : false;\n    if (!force && this.style[name] === value) return this;\n    var newValue = value;\n\n    if (!options || options.process !== false) {\n      newValue = this.options.jss.plugins.onChangeValue(value, name, this);\n    }\n\n    var isEmpty = newValue == null || newValue === false;\n    var isDefined = name in this.style; // Value is empty and wasn't defined before.\n\n    if (isEmpty && !isDefined && !force) return this; // We are going to remove this value.\n\n    var remove = isEmpty && isDefined;\n    if (remove) delete this.style[name];else this.style[name] = newValue; // Renderable is defined if StyleSheet option `link` is true.\n\n    if (this.renderable && this.renderer) {\n      if (remove) this.renderer.removeProperty(this.renderable, name);else this.renderer.setProperty(this.renderable, name, newValue);\n      return this;\n    }\n\n    var sheet = this.options.sheet;\n\n    if (sheet && sheet.attached) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Rule is not linked. Missing sheet option \"link: true\".') : void 0;\n    }\n\n    return this;\n  };\n\n  return BaseStyleRule;\n}();\nvar StyleRule =\n/*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(StyleRule, _BaseStyleRule);\n\n  function StyleRule(key, style, options) {\n    var _this;\n\n    _this = _BaseStyleRule.call(this, key, style, options) || this;\n    _this.selectorText = void 0;\n    _this.id = void 0;\n    _this.renderable = void 0;\n    var selector = options.selector,\n        scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n\n    if (selector) {\n      _this.selectorText = selector;\n    } else if (scoped !== false) {\n      _this.id = generateId(_assertThisInitialized(_assertThisInitialized(_this)), sheet);\n      _this.selectorText = \".\" + escape(_this.id);\n    }\n\n    return _this;\n  }\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  var _proto2 = StyleRule.prototype;\n\n  /**\n   * Apply rule to an element inline.\n   */\n  _proto2.applyTo = function applyTo(renderable) {\n    var renderer = this.renderer;\n\n    if (renderer) {\n      var json = this.toJSON();\n\n      for (var prop in json) {\n        renderer.setProperty(renderable, prop, json[prop]);\n      }\n    }\n\n    return this;\n  }\n  /**\n   * Returns JSON representation of the rule.\n   * Fallbacks are not supported.\n   * Useful for inline styles.\n   */\n  ;\n\n  _proto2.toJSON = function toJSON() {\n    var json = {};\n\n    for (var prop in this.style) {\n      var value = this.style[prop];\n      if (typeof value !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = toCssValue(value);\n    }\n\n    return json;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto2.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.selectorText, this.style, opts);\n  };\n\n  _createClass(StyleRule, [{\n    key: \"selector\",\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n      this.selectorText = selector;\n      var renderer = this.renderer,\n          renderable = this.renderable;\n      if (!renderable || !renderer) return;\n      var hasChanged = renderer.setSelector(renderable, selector); // If selector setter is not implemented, rerender the rule.\n\n      if (!hasChanged) {\n        renderer.replaceRule(renderable, this);\n      }\n    }\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}(BaseStyleRule);\nvar pluginStyleRule = {\n  onCreateRule: function onCreateRule(name, style, options) {\n    if (name[0] === '@' || options.parent && options.parent.type === 'keyframes') {\n      return null;\n    }\n\n    return new StyleRule(name, style, options);\n  }\n};\n\nvar defaultToStringOptions = {\n  indent: 1,\n  children: true\n};\nvar atRegExp = /@([\\w-]+)/;\n/**\n * Conditional rule for @media, @supports\n */\n\nvar ConditionalRule =\n/*#__PURE__*/\nfunction () {\n  function ConditionalRule(key, styles, options) {\n    this.type = 'conditional';\n    this.at = void 0;\n    this.key = void 0;\n    this.query = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    var atMatch = key.match(atRegExp);\n    this.at = atMatch ? atMatch[1] : 'unknown'; // Key might contain a unique suffix in case the `name` passed by user was duplicate.\n\n    this.query = options.name || \"@\" + this.at;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = ConditionalRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions.indent;\n    if (options.children == null) options.children = defaultToStringOptions.children;\n\n    if (options.children === false) {\n      return this.query + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    return children ? this.query + \" {\\n\" + children + \"\\n}\" : '';\n  };\n\n  return ConditionalRule;\n}();\nvar keyRegExp = /@media|@supports\\s+/;\nvar pluginConditionalRule = {\n  onCreateRule: function onCreateRule(key, styles, options) {\n    return keyRegExp.test(key) ? new ConditionalRule(key, styles, options) : null;\n  }\n};\n\nvar defaultToStringOptions$1 = {\n  indent: 1,\n  children: true\n};\nvar nameRegExp = /@keyframes\\s+([\\w-]+)/;\n/**\n * Rule for @keyframes\n */\n\nvar KeyframesRule =\n/*#__PURE__*/\nfunction () {\n  function KeyframesRule(key, frames, options) {\n    this.type = 'keyframes';\n    this.at = '@keyframes';\n    this.key = void 0;\n    this.name = void 0;\n    this.id = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    var nameMatch = key.match(nameRegExp);\n\n    if (nameMatch && nameMatch[1]) {\n      this.name = nameMatch[1];\n    } else {\n      this.name = 'noname';\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Bad keyframes name \" + key) : void 0;\n    }\n\n    this.key = this.type + \"-\" + this.name;\n    this.options = options;\n    var scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n    this.id = scoped === false ? this.name : escape(generateId(this, sheet));\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, options, {\n        parent: this\n      }));\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = KeyframesRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions$1;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions$1.indent;\n    if (options.children == null) options.children = defaultToStringOptions$1.children;\n\n    if (options.children === false) {\n      return this.at + \" \" + this.id + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    if (children) children = \"\\n\" + children + \"\\n\";\n    return this.at + \" \" + this.id + \" {\" + children + \"}\";\n  };\n\n  return KeyframesRule;\n}();\nvar keyRegExp$1 = /@keyframes\\s+/;\nvar refRegExp = /\\$([\\w-]+)/g;\n\nvar findReferencedKeyframe = function findReferencedKeyframe(val, keyframes) {\n  if (typeof val === 'string') {\n    return val.replace(refRegExp, function (match, name) {\n      if (name in keyframes) {\n        return keyframes[name];\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Referenced keyframes rule \\\"\" + name + \"\\\" is not defined.\") : void 0;\n      return match;\n    });\n  }\n\n  return val;\n};\n/**\n * Replace the reference for a animation name.\n */\n\n\nvar replaceRef = function replaceRef(style, prop, keyframes) {\n  var value = style[prop];\n  var refKeyframe = findReferencedKeyframe(value, keyframes);\n\n  if (refKeyframe !== value) {\n    style[prop] = refKeyframe;\n  }\n};\n\nvar plugin = {\n  onCreateRule: function onCreateRule(key, frames, options) {\n    return typeof key === 'string' && keyRegExp$1.test(key) ? new KeyframesRule(key, frames, options) : null;\n  },\n  // Animation name ref replacer.\n  onProcessStyle: function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return style;\n    if ('animation-name' in style) replaceRef(style, 'animation-name', sheet.keyframes);\n    if ('animation' in style) replaceRef(style, 'animation', sheet.keyframes);\n    return style;\n  },\n  onChangeValue: function onChangeValue(val, prop, rule) {\n    var sheet = rule.options.sheet;\n\n    if (!sheet) {\n      return val;\n    }\n\n    switch (prop) {\n      case 'animation':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      case 'animation-name':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      default:\n        return val;\n    }\n  }\n};\n\nvar KeyframeRule =\n/*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(KeyframeRule, _BaseStyleRule);\n\n  function KeyframeRule() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _BaseStyleRule.call.apply(_BaseStyleRule, [this].concat(args)) || this;\n    _this.renderable = void 0;\n    return _this;\n  }\n\n  var _proto = KeyframeRule.prototype;\n\n  /**\n   * Generates a CSS string.\n   */\n  _proto.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.key, this.style, opts);\n  };\n\n  return KeyframeRule;\n}(BaseStyleRule);\nvar pluginKeyframeRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    if (options.parent && options.parent.type === 'keyframes') {\n      return new KeyframeRule(key, style, options);\n    }\n\n    return null;\n  }\n};\n\nvar FontFaceRule =\n/*#__PURE__*/\nfunction () {\n  function FontFaceRule(key, style, options) {\n    this.type = 'font-face';\n    this.at = '@font-face';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = FontFaceRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.style)) {\n      var str = '';\n\n      for (var index = 0; index < this.style.length; index++) {\n        str += toCss(this.at, this.style[index]);\n        if (this.style[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return toCss(this.at, this.style, options);\n  };\n\n  return FontFaceRule;\n}();\nvar keyRegExp$2 = /@font-face/;\nvar pluginFontFaceRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return keyRegExp$2.test(key) ? new FontFaceRule(key, style, options) : null;\n  }\n};\n\nvar ViewportRule =\n/*#__PURE__*/\nfunction () {\n  function ViewportRule(key, style, options) {\n    this.type = 'viewport';\n    this.at = '@viewport';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = ViewportRule.prototype;\n\n  _proto.toString = function toString(options) {\n    return toCss(this.key, this.style, options);\n  };\n\n  return ViewportRule;\n}();\nvar pluginViewportRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return key === '@viewport' || key === '@-ms-viewport' ? new ViewportRule(key, style, options) : null;\n  }\n};\n\nvar SimpleRule =\n/*#__PURE__*/\nfunction () {\n  function SimpleRule(key, value, options) {\n    this.type = 'simple';\n    this.key = void 0;\n    this.value = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  var _proto = SimpleRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.value)) {\n      var str = '';\n\n      for (var index = 0; index < this.value.length; index++) {\n        str += this.key + \" \" + this.value[index] + \";\";\n        if (this.value[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return this.key + \" \" + this.value + \";\";\n  };\n\n  return SimpleRule;\n}();\nvar keysMap = {\n  '@charset': true,\n  '@import': true,\n  '@namespace': true\n};\nvar pluginSimpleRule = {\n  onCreateRule: function onCreateRule(key, value, options) {\n    return key in keysMap ? new SimpleRule(key, value, options) : null;\n  }\n};\n\nvar plugins = [pluginStyleRule, pluginConditionalRule, plugin, pluginKeyframeRule, pluginFontFaceRule, pluginViewportRule, pluginSimpleRule];\n\nvar defaultUpdateOptions = {\n  process: true\n};\nvar forceUpdateOptions = {\n  force: true,\n  process: true\n  /**\n   * Contains rules objects and allows adding/removing etc.\n   * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n   */\n\n};\n\nvar RuleList =\n/*#__PURE__*/\nfunction () {\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n  // Original styles object.\n  // Used to ensure correct rules order.\n  function RuleList(options) {\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n    this.counter = 0;\n    this.options = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.options = options;\n    this.classes = options.classes;\n    this.keyframes = options.keyframes;\n  }\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  var _proto = RuleList.prototype;\n\n  _proto.add = function add(name, decl, ruleOptions) {\n    var _this$options = this.options,\n        parent = _this$options.parent,\n        sheet = _this$options.sheet,\n        jss = _this$options.jss,\n        Renderer = _this$options.Renderer,\n        generateId = _this$options.generateId,\n        scoped = _this$options.scoped;\n\n    var options = _extends({\n      classes: this.classes,\n      parent: parent,\n      sheet: sheet,\n      jss: jss,\n      Renderer: Renderer,\n      generateId: generateId,\n      scoped: scoped,\n      name: name,\n      keyframes: this.keyframes,\n      selector: undefined\n    }, ruleOptions); // When user uses .createStyleSheet(), duplicate names are not possible, but\n    // `sheet.addRule()` opens the door for any duplicate rule name. When this happens\n    // we need to make the key unique within this RuleList instance scope.\n\n\n    var key = name;\n\n    if (name in this.raw) {\n      key = name + \"-d\" + this.counter++;\n    } // We need to save the original decl before creating the rule\n    // because cache plugin needs to use it as a key to return a cached rule.\n\n\n    this.raw[key] = decl;\n\n    if (key in this.classes) {\n      // E.g. rules inside of @media container\n      options.selector = \".\" + escape(this.classes[key]);\n    }\n\n    var rule = createRule(key, decl, options);\n    if (!rule) return null;\n    this.register(rule);\n    var index = options.index === undefined ? this.index.length : options.index;\n    this.index.splice(index, 0, rule);\n    return rule;\n  }\n  /**\n   * Get a rule.\n   */\n  ;\n\n  _proto.get = function get(name) {\n    return this.map[name];\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.remove = function remove(rule) {\n    this.unregister(rule);\n    delete this.raw[rule.key];\n    this.index.splice(this.index.indexOf(rule), 1);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.index.indexOf(rule);\n  }\n  /**\n   * Run `onProcessRule()` plugins on every rule.\n   */\n  ;\n\n  _proto.process = function process() {\n    var plugins = this.options.jss.plugins; // We need to clone array because if we modify the index somewhere else during a loop\n    // we end up with very hard-to-track-down side effects.\n\n    this.index.slice(0).forEach(plugins.onProcessRule, plugins);\n  }\n  /**\n   * Register a rule in `.map`, `.classes` and `.keyframes` maps.\n   */\n  ;\n\n  _proto.register = function register(rule) {\n    this.map[rule.key] = rule;\n\n    if (rule instanceof StyleRule) {\n      this.map[rule.selector] = rule;\n      if (rule.id) this.classes[rule.key] = rule.id;\n    } else if (rule instanceof KeyframesRule && this.keyframes) {\n      this.keyframes[rule.name] = rule.id;\n    }\n  }\n  /**\n   * Unregister a rule.\n   */\n  ;\n\n  _proto.unregister = function unregister(rule) {\n    delete this.map[rule.key];\n\n    if (rule instanceof StyleRule) {\n      delete this.map[rule.selector];\n      delete this.classes[rule.key];\n    } else if (rule instanceof KeyframesRule) {\n      delete this.keyframes[rule.name];\n    }\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var name;\n    var data;\n    var options;\n\n    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {\n      name = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe[invalid-tuple-index]\n\n      data = arguments.length <= 1 ? undefined : arguments[1]; // $FlowFixMe[invalid-tuple-index]\n\n      options = arguments.length <= 2 ? undefined : arguments[2];\n    } else {\n      data = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe[invalid-tuple-index]\n\n      options = arguments.length <= 1 ? undefined : arguments[1];\n      name = null;\n    }\n\n    if (name) {\n      this.updateOne(this.map[name], data, options);\n    } else {\n      for (var index = 0; index < this.index.length; index++) {\n        this.updateOne(this.index[index], data, options);\n      }\n    }\n  }\n  /**\n   * Execute plugins, update rule props.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    if (options === void 0) {\n      options = defaultUpdateOptions;\n    }\n\n    var _this$options2 = this.options,\n        plugins = _this$options2.jss.plugins,\n        sheet = _this$options2.sheet; // It is a rules container like for e.g. ConditionalRule.\n\n    if (rule.rules instanceof RuleList) {\n      rule.rules.update(data, options);\n      return;\n    }\n\n    var styleRule = rule;\n    var style = styleRule.style;\n    plugins.onUpdate(data, rule, sheet, options); // We rely on a new `style` ref in case it was mutated during onUpdate hook.\n\n    if (options.process && style && style !== styleRule.style) {\n      // We need to run the plugins in case new `style` relies on syntax plugins.\n      plugins.onProcessStyle(styleRule.style, styleRule, sheet); // Update and add props.\n\n      for (var prop in styleRule.style) {\n        var nextValue = styleRule.style[prop];\n        var prevValue = style[prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (nextValue !== prevValue) {\n          styleRule.prop(prop, nextValue, forceUpdateOptions);\n        }\n      } // Remove props.\n\n\n      for (var _prop in style) {\n        var _nextValue = styleRule.style[_prop];\n        var _prevValue = style[_prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (_nextValue == null && _nextValue !== _prevValue) {\n          styleRule.prop(_prop, null, forceUpdateOptions);\n        }\n      }\n    }\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    var str = '';\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n\n    for (var index = 0; index < this.index.length; index++) {\n      var rule = this.index[index];\n      var css = rule.toString(options); // No need to render an empty rule.\n\n      if (!css && !link) continue;\n      if (str) str += '\\n';\n      str += css;\n    }\n\n    return str;\n  };\n\n  return RuleList;\n}();\n\nvar StyleSheet =\n/*#__PURE__*/\nfunction () {\n  function StyleSheet(styles, options) {\n    this.options = void 0;\n    this.deployed = void 0;\n    this.attached = void 0;\n    this.rules = void 0;\n    this.renderer = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.queue = void 0;\n    this.attached = false;\n    this.deployed = false;\n    this.classes = {};\n    this.keyframes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes,\n      keyframes: this.keyframes\n    });\n\n    if (options.Renderer) {\n      this.renderer = new options.Renderer(this);\n    }\n\n    this.rules = new RuleList(this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.attach = function attach() {\n    if (this.attached) return this;\n    if (this.renderer) this.renderer.attach();\n    this.attached = true; // Order is important, because we can't use insertRule API if style element is not attached.\n\n    if (!this.deployed) this.deploy();\n    return this;\n  }\n  /**\n   * Remove renderable from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.attached) return this;\n    if (this.renderer) this.renderer.detach();\n    this.attached = false;\n    return this;\n  }\n  /**\n   * Add a rule to the current stylesheet.\n   * Will insert a rule also after the stylesheet has been rendered first time.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, decl, options) {\n    var queue = this.queue; // Plugins can create rules.\n    // In order to preserve the right order, we need to queue all `.addRule` calls,\n    // which happen after the first `rules.add()` call.\n\n    if (this.attached && !queue) this.queue = [];\n    var rule = this.rules.add(name, decl, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n\n    if (this.attached) {\n      if (!this.deployed) return rule; // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n\n      if (queue) queue.push(rule);else {\n        this.insertRule(rule);\n\n        if (this.queue) {\n          this.queue.forEach(this.insertRule, this);\n          this.queue = undefined;\n        }\n      }\n      return rule;\n    } // We can't add rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n\n\n    this.deployed = false;\n    return rule;\n  }\n  /**\n   * Insert rule into the StyleSheet\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule) {\n    if (this.renderer) {\n      this.renderer.insertRule(rule);\n    }\n  }\n  /**\n   * Create and add rules.\n   * Will render also after Style Sheet was rendered the first time.\n   */\n  ;\n\n  _proto.addRules = function addRules(styles, options) {\n    var added = [];\n\n    for (var name in styles) {\n      var rule = this.addRule(name, styles[name], options);\n      if (rule) added.push(rule);\n    }\n\n    return added;\n  }\n  /**\n   * Get a rule by name.\n   */\n  ;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Delete a rule by name.\n   * Returns `true`: if rule has been deleted from the DOM.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(name) {\n    var rule = typeof name === 'object' ? name : this.rules.get(name);\n\n    if (!rule || // Style sheet was created without link: true and attached, in this case we\n    // won't be able to remove the CSS rule from the DOM.\n    this.attached && !rule.renderable) {\n      return false;\n    }\n\n    this.rules.remove(rule);\n\n    if (this.attached && rule.renderable && this.renderer) {\n      return this.renderer.deleteRule(rule.renderable);\n    }\n\n    return true;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Deploy pure CSS string to a renderable.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    if (this.renderer) this.renderer.deploy();\n    this.deployed = true;\n    return this;\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var _this$rules;\n\n    (_this$rules = this.rules).update.apply(_this$rules, arguments);\n\n    return this;\n  }\n  /**\n   * Updates a single rule.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    this.rules.updateOne(rule, data, options);\n    return this;\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    return this.rules.toString(options);\n  };\n\n  return StyleSheet;\n}();\n\nvar PluginsRegistry =\n/*#__PURE__*/\nfunction () {\n  function PluginsRegistry() {\n    this.plugins = {\n      internal: [],\n      external: []\n    };\n    this.registry = void 0;\n  }\n\n  var _proto = PluginsRegistry.prototype;\n\n  /**\n   * Call `onCreateRule` hooks and return an object if returned by a hook.\n   */\n  _proto.onCreateRule = function onCreateRule(name, decl, options) {\n    for (var i = 0; i < this.registry.onCreateRule.length; i++) {\n      var rule = this.registry.onCreateRule[i](name, decl, options);\n      if (rule) return rule;\n    }\n\n    return null;\n  }\n  /**\n   * Call `onProcessRule` hooks.\n   */\n  ;\n\n  _proto.onProcessRule = function onProcessRule(rule) {\n    if (rule.isProcessed) return;\n    var sheet = rule.options.sheet;\n\n    for (var i = 0; i < this.registry.onProcessRule.length; i++) {\n      this.registry.onProcessRule[i](rule, sheet);\n    }\n\n    if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n    rule.isProcessed = true;\n  }\n  /**\n   * Call `onProcessStyle` hooks.\n   */\n  ;\n\n  _proto.onProcessStyle = function onProcessStyle(style, rule, sheet) {\n    for (var i = 0; i < this.registry.onProcessStyle.length; i++) {\n      // $FlowFixMe[prop-missing]\n      rule.style = this.registry.onProcessStyle[i](rule.style, rule, sheet);\n    }\n  }\n  /**\n   * Call `onProcessSheet` hooks.\n   */\n  ;\n\n  _proto.onProcessSheet = function onProcessSheet(sheet) {\n    for (var i = 0; i < this.registry.onProcessSheet.length; i++) {\n      this.registry.onProcessSheet[i](sheet);\n    }\n  }\n  /**\n   * Call `onUpdate` hooks.\n   */\n  ;\n\n  _proto.onUpdate = function onUpdate(data, rule, sheet, options) {\n    for (var i = 0; i < this.registry.onUpdate.length; i++) {\n      this.registry.onUpdate[i](data, rule, sheet, options);\n    }\n  }\n  /**\n   * Call `onChangeValue` hooks.\n   */\n  ;\n\n  _proto.onChangeValue = function onChangeValue(value, prop, rule) {\n    var processedValue = value;\n\n    for (var i = 0; i < this.registry.onChangeValue.length; i++) {\n      processedValue = this.registry.onChangeValue[i](processedValue, prop, rule);\n    }\n\n    return processedValue;\n  }\n  /**\n   * Register a plugin.\n   */\n  ;\n\n  _proto.use = function use(newPlugin, options) {\n    if (options === void 0) {\n      options = {\n        queue: 'external'\n      };\n    }\n\n    var plugins = this.plugins[options.queue]; // Avoids applying same plugin twice, at least based on ref.\n\n    if (plugins.indexOf(newPlugin) !== -1) {\n      return;\n    }\n\n    plugins.push(newPlugin);\n    this.registry = [].concat(this.plugins.external, this.plugins.internal).reduce(function (registry, plugin) {\n      for (var name in plugin) {\n        if (name in registry) {\n          registry[name].push(plugin[name]);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown hook \\\"\" + name + \"\\\".\") : void 0;\n        }\n      }\n\n      return registry;\n    }, {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n    });\n  };\n\n  return PluginsRegistry;\n}();\n\n/**\n * Sheets registry to access them all at one place.\n */\nvar SheetsRegistry =\n/*#__PURE__*/\nfunction () {\n  function SheetsRegistry() {\n    this.registry = [];\n  }\n\n  var _proto = SheetsRegistry.prototype;\n\n  /**\n   * Register a Style Sheet.\n   */\n  _proto.add = function add(sheet) {\n    var registry = this.registry;\n    var index = sheet.options.index;\n    if (registry.indexOf(sheet) !== -1) return;\n\n    if (registry.length === 0 || index >= this.index) {\n      registry.push(sheet);\n      return;\n    } // Find a position.\n\n\n    for (var i = 0; i < registry.length; i++) {\n      if (registry[i].options.index > index) {\n        registry.splice(i, 0, sheet);\n        return;\n      }\n    }\n  }\n  /**\n   * Reset the registry.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    this.registry = [];\n  }\n  /**\n   * Remove a Style Sheet.\n   */\n  ;\n\n  _proto.remove = function remove(sheet) {\n    var index = this.registry.indexOf(sheet);\n    this.registry.splice(index, 1);\n  }\n  /**\n   * Convert all attached sheets to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        attached = _ref.attached,\n        options = _objectWithoutPropertiesLoose(_ref, [\"attached\"]);\n\n    var css = '';\n\n    for (var i = 0; i < this.registry.length; i++) {\n      var sheet = this.registry[i];\n\n      if (attached != null && sheet.attached !== attached) {\n        continue;\n      }\n\n      if (css) css += '\\n';\n      css += sheet.toString(options);\n    }\n\n    return css;\n  };\n\n  _createClass(SheetsRegistry, [{\n    key: \"index\",\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\n\nvar registry = new SheetsRegistry();\n\n/* eslint-disable */\n\n/**\n * Now that `globalThis` is available on most platforms\n * (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis#browser_compatibility)\n * we check for `globalThis` first. `globalThis` is necessary for jss\n * to run in Agoric's secure version of JavaScript (SES). Under SES,\n * `globalThis` exists, but `window`, `self`, and `Function('return\n * this')()` are all undefined for security reasons.\n *\n * https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n */\nvar globalThis$1 = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' && window.Math === Math ? window : typeof self !== 'undefined' && self.Math === Math ? self : Function('return this')();\n\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (globalThis$1[ns] == null) globalThis$1[ns] = 0; // Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\n\nvar moduleId = globalThis$1[ns]++;\n\nvar maxRules = 1e10;\n\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\nvar createGenerateId = function createGenerateId(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var ruleCounter = 0;\n\n  var generateId = function generateId(rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] You might have a memory leak. Rule counter is at \" + ruleCounter + \".\") : void 0;\n    }\n\n    var jssId = '';\n    var prefix = '';\n\n    if (sheet) {\n      if (sheet.options.classNamePrefix) {\n        prefix = sheet.options.classNamePrefix;\n      }\n\n      if (sheet.options.jss.id != null) {\n        jssId = String(sheet.options.jss.id);\n      }\n    }\n\n    if (options.minify) {\n      // Using \"c\" because a number can't be the first char in a class name.\n      return \"\" + (prefix || 'c') + moduleId + jssId + ruleCounter;\n    }\n\n    return prefix + rule.key + \"-\" + moduleId + (jssId ? \"-\" + jssId : '') + \"-\" + ruleCounter;\n  };\n\n  return generateId;\n};\n\n/**\n * Cache the value from the first time a function is called.\n */\nvar memoize = function memoize(fn) {\n  var value;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n\n/**\n * Get a style property value.\n */\nvar getPropertyValue = function getPropertyValue(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      return cssRule.attributeStyleMap.get(prop);\n    }\n\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n};\n\n/**\n * Set a style property.\n */\nvar setProperty = function setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = toCssValue(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    } // Support CSSTOM.\n\n\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.set(prop, cssValue);\n    } else {\n      cssRule.style.setProperty(prop, cssValue);\n    }\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Remove a style property.\n */\nvar removeProperty = function removeProperty(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.delete(prop);\n    } else {\n      cssRule.style.removeProperty(prop);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] DOMException \\\"\" + err.message + \"\\\" was thrown. Tried to remove property \\\"\" + prop + \"\\\".\") : void 0;\n  }\n};\n\n/**\n * Set the selector.\n */\nvar setSelector = function setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText; // Return false if setter was not successful.\n  // Currently works in chrome only.\n\n  return cssRule.selectorText === selectorText;\n};\n/**\n * Gets the `head` element upon the first call and caches it.\n * We assume it can't be null.\n */\n\n\nvar getHead = memoize(function () {\n  return document.querySelector('head');\n});\n/**\n * Find attached sheet with an index higher than the passed one.\n */\n\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find attached sheet with the highest index.\n */\n\n\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a comment with \"jss\" inside.\n */\n\n\nfunction findCommentNode(text) {\n  var head = getHead();\n\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Find a node before which we can insert the sheet.\n */\nfunction findPrevNode(options) {\n  var registry$1 = registry.registry;\n\n  if (registry$1.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry$1, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element\n      };\n    } // Otherwise insert after the last attached.\n\n\n    sheet = findHighestSheet(registry$1, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element.nextSibling\n      };\n    }\n  } // Try to find a comment placeholder if registry is empty.\n\n\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n\n    if (comment) {\n      return {\n        parent: comment.parentNode,\n        node: comment.nextSibling\n      };\n    } // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Insertion point \\\"\" + insertionPoint + \"\\\" not found.\") : void 0;\n  }\n\n  return false;\n}\n/**\n * Insert style element into the DOM.\n */\n\n\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n  var nextNode = findPrevNode(options);\n\n  if (nextNode !== false && nextNode.parent) {\n    nextNode.parent.insertBefore(style, nextNode.node);\n    return;\n  } // Works with iframes and any node types.\n\n\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var parentNode = insertionPointElement.parentNode;\n    if (parentNode) parentNode.insertBefore(style, insertionPointElement.nextSibling);else process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Insertion point is not in the DOM.') : void 0;\n    return;\n  }\n\n  getHead().appendChild(style);\n}\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\n\n\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar _insertRule = function insertRule(container, rule, index) {\n  try {\n    if ('insertRule' in container) {\n      var c = container;\n      c.insertRule(rule, index);\n    } // Keyframes rule.\n    else if ('appendRule' in container) {\n        var _c = container;\n\n        _c.appendRule(rule);\n      }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] \" + err.message) : void 0;\n    return false;\n  }\n\n  return container.cssRules[index];\n};\n\nvar getValidRuleInsertionIndex = function getValidRuleInsertionIndex(container, index) {\n  var maxIndex = container.cssRules.length; // In case previous insertion fails, passed index might be wrong\n\n  if (index === undefined || index > maxIndex) {\n    // eslint-disable-next-line no-param-reassign\n    return maxIndex;\n  }\n\n  return index;\n};\n\nvar createStyle = function createStyle() {\n  var el = document.createElement('style'); // Without it, IE will have a broken source order specificity if we\n  // insert rules after we insert the style tag.\n  // It seems to kick-off the source order specificity algorithm.\n\n  el.textContent = '\\n';\n  return el;\n};\n\nvar DomRenderer =\n/*#__PURE__*/\nfunction () {\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n  // Will be empty if link: true option is not set, because\n  // it is only for use together with insertRule API.\n  function DomRenderer(sheet) {\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.element = void 0;\n    this.sheet = void 0;\n    this.hasInsertedRules = false;\n    this.cssRules = [];\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) registry.add(sheet);\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || createStyle();\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  var _proto = DomRenderer.prototype;\n\n  _proto.attach = function attach() {\n    // In the case the element node is external and it is already in the DOM.\n    if (this.element.parentNode || !this.sheet) return;\n    insertStyle(this.element, this.sheet.options); // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n    // most browsers create a new CSSStyleSheet, except of all IEs.\n\n    var deployed = Boolean(this.sheet && this.sheet.deployed);\n\n    if (this.hasInsertedRules && deployed) {\n      this.hasInsertedRules = false;\n      this.deploy();\n    }\n  }\n  /**\n   * Remove style element from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.sheet) return;\n    var parentNode = this.element.parentNode;\n    if (parentNode) parentNode.removeChild(this.element); // In the most browsers, rules inserted using insertRule() API will be lost when style element is removed.\n    // Though IE will keep them and we need a consistent behavior.\n\n    if (this.sheet.options.link) {\n      this.cssRules = [];\n      this.element.textContent = '\\n';\n    }\n  }\n  /**\n   * Inject CSS string into element.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    var sheet = this.sheet;\n    if (!sheet) return;\n\n    if (sheet.options.link) {\n      this.insertRules(sheet.rules);\n      return;\n    }\n\n    this.element.textContent = \"\\n\" + sheet.toString() + \"\\n\";\n  }\n  /**\n   * Insert RuleList into an element.\n   */\n  ;\n\n  _proto.insertRules = function insertRules(rules, nativeParent) {\n    for (var i = 0; i < rules.index.length; i++) {\n      this.insertRule(rules.index[i], i, nativeParent);\n    }\n  }\n  /**\n   * Insert a rule into element.\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule, index, nativeParent) {\n    if (nativeParent === void 0) {\n      nativeParent = this.element.sheet;\n    }\n\n    if (rule.rules) {\n      var parent = rule;\n      var latestNativeParent = nativeParent;\n\n      if (rule.type === 'conditional' || rule.type === 'keyframes') {\n        var _insertionIndex = getValidRuleInsertionIndex(nativeParent, index); // We need to render the container without children first.\n\n\n        latestNativeParent = _insertRule(nativeParent, parent.toString({\n          children: false\n        }), _insertionIndex);\n\n        if (latestNativeParent === false) {\n          return false;\n        }\n\n        this.refCssRule(rule, _insertionIndex, latestNativeParent);\n      }\n\n      this.insertRules(parent.rules, latestNativeParent);\n      return latestNativeParent;\n    }\n\n    var ruleStr = rule.toString();\n    if (!ruleStr) return false;\n    var insertionIndex = getValidRuleInsertionIndex(nativeParent, index);\n\n    var nativeRule = _insertRule(nativeParent, ruleStr, insertionIndex);\n\n    if (nativeRule === false) {\n      return false;\n    }\n\n    this.hasInsertedRules = true;\n    this.refCssRule(rule, insertionIndex, nativeRule);\n    return nativeRule;\n  };\n\n  _proto.refCssRule = function refCssRule(rule, index, cssRule) {\n    rule.renderable = cssRule; // We only want to reference the top level rules, deleteRule API doesn't support removing nested rules\n    // like rules inside media queries or keyframes\n\n    if (rule.options.parent instanceof StyleSheet) {\n      this.cssRules[index] = cssRule;\n    }\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(cssRule) {\n    var sheet = this.element.sheet;\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return true;\n  }\n  /**\n   * Get index of a CSS Rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(cssRule) {\n    return this.cssRules.indexOf(cssRule);\n  }\n  /**\n   * Generate a new CSS rule and replace the existing one.\n   *\n   * Only used for some old browsers because they can't set a selector.\n   */\n  ;\n\n  _proto.replaceRule = function replaceRule(cssRule, rule) {\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    this.element.sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return this.insertRule(rule, index);\n  }\n  /**\n   * Get all rules elements.\n   */\n  ;\n\n  _proto.getRules = function getRules() {\n    return this.element.sheet.cssRules;\n  };\n\n  return DomRenderer;\n}();\n\nvar instanceCounter = 0;\n\nvar Jss =\n/*#__PURE__*/\nfunction () {\n  function Jss(options) {\n    this.id = instanceCounter++;\n    this.version = \"10.7.1\";\n    this.plugins = new PluginsRegistry();\n    this.options = {\n      id: {\n        minify: false\n      },\n      createGenerateId: createGenerateId,\n      Renderer: isInBrowser ? DomRenderer : null,\n      plugins: []\n    };\n    this.generateId = createGenerateId({\n      minify: false\n    });\n\n    for (var i = 0; i < plugins.length; i++) {\n      this.plugins.use(plugins[i], {\n        queue: 'internal'\n      });\n    }\n\n    this.setup(options);\n  }\n  /**\n   * Prepares various options, applies plugins.\n   * Should not be used twice on the same instance, because there is no plugins\n   * deduplication logic.\n   */\n\n\n  var _proto = Jss.prototype;\n\n  _proto.setup = function setup(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.createGenerateId) {\n      this.options.createGenerateId = options.createGenerateId;\n    }\n\n    if (options.id) {\n      this.options.id = _extends({}, this.options.id, options.id);\n    }\n\n    if (options.createGenerateId || options.id) {\n      this.generateId = this.options.createGenerateId(this.options.id);\n    }\n\n    if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n\n    if ('Renderer' in options) {\n      this.options.Renderer = options.Renderer;\n    } // eslint-disable-next-line prefer-spread\n\n\n    if (options.plugins) this.use.apply(this, options.plugins);\n    return this;\n  }\n  /**\n   * Create a Style Sheet.\n   */\n  ;\n\n  _proto.createStyleSheet = function createStyleSheet(styles, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        index = _options.index;\n\n    if (typeof index !== 'number') {\n      index = registry.index === 0 ? 0 : registry.index + 1;\n    }\n\n    var sheet = new StyleSheet(styles, _extends({}, options, {\n      jss: this,\n      generateId: options.generateId || this.generateId,\n      insertionPoint: this.options.insertionPoint,\n      Renderer: this.options.Renderer,\n      index: index\n    }));\n    this.plugins.onProcessSheet(sheet);\n    return sheet;\n  }\n  /**\n   * Detach the Style Sheet and remove it from the registry.\n   */\n  ;\n\n  _proto.removeStyleSheet = function removeStyleSheet(sheet) {\n    sheet.detach();\n    registry.remove(sheet);\n    return this;\n  }\n  /**\n   * Create a rule without a Style Sheet.\n   * [Deprecated] will be removed in the next major version.\n   */\n  ;\n\n  _proto.createRule = function createRule$1(name, style, options) {\n    if (style === void 0) {\n      style = {};\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    // Enable rule without name for inline styles.\n    if (typeof name === 'object') {\n      // $FlowFixMe[incompatible-call]\n      return this.createRule(undefined, name, style);\n    } // $FlowFixMe[incompatible-type]\n\n\n    var ruleOptions = _extends({}, options, {\n      name: name,\n      jss: this,\n      Renderer: this.options.Renderer\n    });\n\n    if (!ruleOptions.generateId) ruleOptions.generateId = this.generateId;\n    if (!ruleOptions.classes) ruleOptions.classes = {};\n    if (!ruleOptions.keyframes) ruleOptions.keyframes = {};\n\n    var rule = createRule(name, style, ruleOptions);\n\n    if (rule) this.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   */\n  ;\n\n  _proto.use = function use() {\n    var _this = this;\n\n    for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins[_key] = arguments[_key];\n    }\n\n    plugins.forEach(function (plugin) {\n      _this.plugins.use(plugin);\n    });\n    return this;\n  };\n\n  return Jss;\n}();\n\n/**\n * Extracts a styles object with only props that contain function values.\n */\nfunction getDynamicStyles(styles) {\n  var to = null;\n\n  for (var key in styles) {\n    var value = styles[key];\n    var type = typeof value;\n\n    if (type === 'function') {\n      if (!to) to = {};\n      to[key] = value;\n    } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n      var extracted = getDynamicStyles(value);\n\n      if (extracted) {\n        if (!to) to = {};\n        to[key] = extracted;\n      }\n    }\n  }\n\n  return to;\n}\n\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\nvar SheetsManager =\n/*#__PURE__*/\nfunction () {\n  function SheetsManager() {\n    this.length = 0;\n    this.sheets = new WeakMap();\n  }\n\n  var _proto = SheetsManager.prototype;\n\n  _proto.get = function get(key) {\n    var entry = this.sheets.get(key);\n    return entry && entry.sheet;\n  };\n\n  _proto.add = function add(key, sheet) {\n    if (this.sheets.has(key)) return;\n    this.length++;\n    this.sheets.set(key, {\n      sheet: sheet,\n      refs: 0\n    });\n  };\n\n  _proto.manage = function manage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs === 0) {\n        entry.sheet.attach();\n      }\n\n      entry.refs++;\n      return entry.sheet;\n    }\n\n    warning(false, \"[JSS] SheetsManager: can't find sheet to manage\");\n    return undefined;\n  };\n\n  _proto.unmanage = function unmanage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs > 0) {\n        entry.refs--;\n        if (entry.refs === 0) entry.sheet.detach();\n      }\n    } else {\n      warning(false, \"SheetsManager: can't find sheet to unmanage\");\n    }\n  };\n\n  _createClass(SheetsManager, [{\n    key: \"size\",\n    get: function get() {\n      return this.length;\n    }\n  }]);\n\n  return SheetsManager;\n}();\n\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n\n/**\n * Export a constant indicating if this browser has CSSTOM support.\n * https://developers.google.com/web/updates/2018/03/cssom\n */\nvar hasCSSTOMSupport = typeof CSS === 'object' && CSS != null && 'number' in CSS;\n/**\n * Creates a new instance of Jss.\n */\n\nvar create = function create(options) {\n  return new Jss(options);\n};\n/**\n * A global Jss instance.\n */\n\nvar jss = create();\n\nexport default jss;\nexport { RuleList, SheetsManager, SheetsRegistry, create, createGenerateId, createRule, getDynamicStyles, hasCSSTOMSupport, registry as sheets, toCssValue };\n","import warning from 'tiny-warning';\nimport { createRule } from 'jss';\n\nvar now = Date.now();\nvar fnValuesNs = \"fnValues\" + now;\nvar fnRuleNs = \"fnStyle\" + ++now;\n\nvar functionPlugin = function functionPlugin() {\n  return {\n    onCreateRule: function onCreateRule(name, decl, options) {\n      if (typeof decl !== 'function') return null;\n      var rule = createRule(name, {}, options);\n      rule[fnRuleNs] = decl;\n      return rule;\n    },\n    onProcessStyle: function onProcessStyle(style, rule) {\n      // We need to extract function values from the declaration, so that we can keep core unaware of them.\n      // We need to do that only once.\n      // We don't need to extract functions on each style update, since this can happen only once.\n      // We don't support function values inside of function rules.\n      if (fnValuesNs in rule || fnRuleNs in rule) return style;\n      var fnValues = {};\n\n      for (var prop in style) {\n        var value = style[prop];\n        if (typeof value !== 'function') continue;\n        delete style[prop];\n        fnValues[prop] = value;\n      } // $FlowFixMe[prop-missing]\n\n\n      rule[fnValuesNs] = fnValues;\n      return style;\n    },\n    onUpdate: function onUpdate(data, rule, sheet, options) {\n      var styleRule = rule; // $FlowFixMe[prop-missing]\n\n      var fnRule = styleRule[fnRuleNs]; // If we have a style function, the entire rule is dynamic and style object\n      // will be returned from that function.\n\n      if (fnRule) {\n        // Empty object will remove all currently defined props\n        // in case function rule returns a falsy value.\n        styleRule.style = fnRule(data) || {};\n\n        if (process.env.NODE_ENV === 'development') {\n          for (var prop in styleRule.style) {\n            if (typeof styleRule.style[prop] === 'function') {\n              process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Function values inside function rules are not supported.') : void 0;\n              break;\n            }\n          }\n        }\n      } // $FlowFixMe[prop-missing]\n\n\n      var fnValues = styleRule[fnValuesNs]; // If we have a fn values map, it is a rule with function values.\n\n      if (fnValues) {\n        for (var _prop in fnValues) {\n          styleRule.prop(_prop, fnValues[_prop](data), options);\n        }\n      }\n    }\n  };\n};\n\nexport default functionPlugin;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { RuleList } from 'jss';\n\nvar at = '@global';\nvar atPrefix = '@global ';\n\nvar GlobalContainerRule =\n/*#__PURE__*/\nfunction () {\n  function GlobalContainerRule(key, styles, options) {\n    this.type = 'global';\n    this.at = at;\n    this.rules = void 0;\n    this.options = void 0;\n    this.key = void 0;\n    this.isProcessed = false;\n    this.key = key;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = GlobalContainerRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (rule) this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return this.rules.toString();\n  };\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule =\n/*#__PURE__*/\nfunction () {\n  function GlobalPrefixedRule(key, style, options) {\n    this.type = 'global';\n    this.at = at;\n    this.options = void 0;\n    this.rule = void 0;\n    this.isProcessed = false;\n    this.key = void 0;\n    this.key = key;\n    this.options = options;\n    var selector = key.substr(atPrefix.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this\n    }));\n  }\n\n  var _proto2 = GlobalPrefixedRule.prototype;\n\n  _proto2.toString = function toString(options) {\n    return this.rule ? this.rule.toString(options) : '';\n  };\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + \" \" + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule, sheet) {\n  var options = rule.options,\n      style = rule.style;\n  var rules = style ? style[at] : null;\n  if (!rules) return;\n\n  for (var name in rules) {\n    sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[at];\n}\n\nfunction handlePrefixedGlobalRule(rule, sheet) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop[0] !== '@' || prop.substr(0, at.length) !== at) continue;\n    var selector = addScope(prop.substr(at.length), rule.selector);\n    sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\n\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (!name) return null;\n\n    if (name === at) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, atPrefix.length) === atPrefix) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent && parent.options.parent.type === 'global') {\n        options.scoped = false;\n      }\n    }\n\n    if (options.scoped === false) {\n      options.selector = name;\n    }\n\n    return null;\n  }\n\n  function onProcessRule(rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return;\n    handleNestedGlobalContainerRule(rule, sheet);\n    handlePrefixedGlobalRule(rule, sheet);\n  }\n\n  return {\n    onCreateRule: onCreateRule,\n    onProcessRule: onProcessRule\n  };\n}\n\nexport default jssGlobal;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport warning from 'tiny-warning';\n\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n\n      if (rule) {\n        rule = rule;\n        return rule.selector;\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \\\"\" + key + \"\\\" in \\\"\" + (container.options.meta || container.toString()) + \"\\\".\") : void 0;\n      return key;\n    };\n  }\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, prevOptions) {\n    // Options has been already created, now we only increase index.\n    if (prevOptions) return _extends({}, prevOptions, {\n      index: prevOptions.index + 1 // $FlowFixMe[prop-missing]\n\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    var options = _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1 // We don't need the parent name to be set options for chlid.\n\n    });\n\n    delete options.name;\n    return options;\n  }\n\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp, replaceRef);\n        container.addRule(selector, style[prop], _extends({}, options, {\n          selector: selector\n        }));\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options) // Flow expects more options but they aren't required\n        // And flow doesn't know this will always be a StyleRule which has the addRule method\n        // $FlowFixMe[incompatible-use]\n        // $FlowFixMe[prop-missing]\n        .addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\n\nexport default jssNested;\n","/* eslint-disable no-var, prefer-template */\nvar uppercasePattern = /[A-Z]/g\nvar msPattern = /^ms-/\nvar cache = {}\n\nfunction toHyphenLower(match) {\n  return '-' + match.toLowerCase()\n}\n\nfunction hyphenateStyleName(name) {\n  if (cache.hasOwnProperty(name)) {\n    return cache[name]\n  }\n\n  var hName = name.replace(uppercasePattern, toHyphenLower)\n  return (cache[name] = msPattern.test(hName) ? '-' + hName : hName)\n}\n\nexport default hyphenateStyleName\n","import hyphenate from 'hyphenate-style-name';\n\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\n\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    var key = prop.indexOf('--') === 0 ? prop : hyphenate(prop);\n    converted[key] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\n\n\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  function onChangeValue(value, prop, rule) {\n    if (prop.indexOf('--') === 0) {\n      return value;\n    }\n\n    var hyphenatedProp = hyphenate(prop); // There was no camel case in place\n\n    if (prop === hyphenatedProp) return value;\n    rule.prop(hyphenatedProp, value); // Core will ignore that property value we set the proper one above.\n\n    return null;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default camelCase;\n","import { hasCSSTOMSupport } from 'jss';\n\nvar px = hasCSSTOMSupport && CSS ? CSS.px : 'px';\nvar ms = hasCSSTOMSupport && CSS ? CSS.ms : 'ms';\nvar percent = hasCSSTOMSupport && CSS ? CSS.percent : '%';\n/**\n * Generated jss-plugin-default-unit CSS property units\n *\n * @type object\n */\n\nvar defaultUnits = {\n  // Animation properties\n  'animation-delay': ms,\n  'animation-duration': ms,\n  // Background properties\n  'background-position': px,\n  'background-position-x': px,\n  'background-position-y': px,\n  'background-size': px,\n  // Border Properties\n  border: px,\n  'border-bottom': px,\n  'border-bottom-left-radius': px,\n  'border-bottom-right-radius': px,\n  'border-bottom-width': px,\n  'border-left': px,\n  'border-left-width': px,\n  'border-radius': px,\n  'border-right': px,\n  'border-right-width': px,\n  'border-top': px,\n  'border-top-left-radius': px,\n  'border-top-right-radius': px,\n  'border-top-width': px,\n  'border-width': px,\n  'border-block': px,\n  'border-block-end': px,\n  'border-block-end-width': px,\n  'border-block-start': px,\n  'border-block-start-width': px,\n  'border-block-width': px,\n  'border-inline': px,\n  'border-inline-end': px,\n  'border-inline-end-width': px,\n  'border-inline-start': px,\n  'border-inline-start-width': px,\n  'border-inline-width': px,\n  'border-start-start-radius': px,\n  'border-start-end-radius': px,\n  'border-end-start-radius': px,\n  'border-end-end-radius': px,\n  // Margin properties\n  margin: px,\n  'margin-bottom': px,\n  'margin-left': px,\n  'margin-right': px,\n  'margin-top': px,\n  'margin-block': px,\n  'margin-block-end': px,\n  'margin-block-start': px,\n  'margin-inline': px,\n  'margin-inline-end': px,\n  'margin-inline-start': px,\n  // Padding properties\n  padding: px,\n  'padding-bottom': px,\n  'padding-left': px,\n  'padding-right': px,\n  'padding-top': px,\n  'padding-block': px,\n  'padding-block-end': px,\n  'padding-block-start': px,\n  'padding-inline': px,\n  'padding-inline-end': px,\n  'padding-inline-start': px,\n  // Mask properties\n  'mask-position-x': px,\n  'mask-position-y': px,\n  'mask-size': px,\n  // Width and height properties\n  height: px,\n  width: px,\n  'min-height': px,\n  'max-height': px,\n  'min-width': px,\n  'max-width': px,\n  // Position properties\n  bottom: px,\n  left: px,\n  top: px,\n  right: px,\n  inset: px,\n  'inset-block': px,\n  'inset-block-end': px,\n  'inset-block-start': px,\n  'inset-inline': px,\n  'inset-inline-end': px,\n  'inset-inline-start': px,\n  // Shadow properties\n  'box-shadow': px,\n  'text-shadow': px,\n  // Column properties\n  'column-gap': px,\n  'column-rule': px,\n  'column-rule-width': px,\n  'column-width': px,\n  // Font and text properties\n  'font-size': px,\n  'font-size-delta': px,\n  'letter-spacing': px,\n  'text-decoration-thickness': px,\n  'text-indent': px,\n  'text-stroke': px,\n  'text-stroke-width': px,\n  'word-spacing': px,\n  // Motion properties\n  motion: px,\n  'motion-offset': px,\n  // Outline properties\n  outline: px,\n  'outline-offset': px,\n  'outline-width': px,\n  // Perspective properties\n  perspective: px,\n  'perspective-origin-x': percent,\n  'perspective-origin-y': percent,\n  // Transform properties\n  'transform-origin': percent,\n  'transform-origin-x': percent,\n  'transform-origin-y': percent,\n  'transform-origin-z': percent,\n  // Transition properties\n  'transition-delay': ms,\n  'transition-duration': ms,\n  // Alignment properties\n  'vertical-align': px,\n  'flex-basis': px,\n  // Some random properties\n  'shape-margin': px,\n  size: px,\n  gap: px,\n  // Grid properties\n  grid: px,\n  'grid-gap': px,\n  'row-gap': px,\n  'grid-row-gap': px,\n  'grid-column-gap': px,\n  'grid-template-rows': px,\n  'grid-template-columns': px,\n  'grid-auto-rows': px,\n  'grid-auto-columns': px,\n  // Not existing properties.\n  // Used to avoid issues with jss-plugin-expand integration.\n  'box-shadow-x': px,\n  'box-shadow-y': px,\n  'box-shadow-blur': px,\n  'box-shadow-spread': px,\n  'font-line-height': px,\n  'text-shadow-x': px,\n  'text-shadow-y': px,\n  'text-shadow-blur': px\n};\n\n/**\n * Clones the object and adds a camel cased property version.\n */\nfunction addCamelCasedVersion(obj) {\n  var regExp = /(-[a-z])/g;\n\n  var replace = function replace(str) {\n    return str[1].toUpperCase();\n  };\n\n  var newObj = {};\n\n  for (var _key in obj) {\n    newObj[_key] = obj[_key];\n    newObj[_key.replace(regExp, replace)] = obj[_key];\n  }\n\n  return newObj;\n}\n\nvar units = addCamelCasedVersion(defaultUnits);\n/**\n * Recursive deep style passing function\n */\n\nfunction iterate(prop, value, options) {\n  if (value == null) return value;\n\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      value[i] = iterate(prop, value[i], options);\n    }\n  } else if (typeof value === 'object') {\n    if (prop === 'fallbacks') {\n      for (var innerProp in value) {\n        value[innerProp] = iterate(innerProp, value[innerProp], options);\n      }\n    } else {\n      for (var _innerProp in value) {\n        value[_innerProp] = iterate(prop + \"-\" + _innerProp, value[_innerProp], options);\n      }\n    } // eslint-disable-next-line no-restricted-globals\n\n  } else if (typeof value === 'number' && isNaN(value) === false) {\n    var unit = options[prop] || units[prop]; // Add the unit if available, except for the special case of 0px.\n\n    if (unit && !(value === 0 && unit === px)) {\n      return typeof unit === 'function' ? unit(value).toString() : \"\" + value + unit;\n    }\n\n    return value.toString();\n  }\n\n  return value;\n}\n/**\n * Add unit to numeric values.\n */\n\n\nfunction defaultUnit(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var camelCasedOptions = addCamelCasedVersion(options);\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n\n    for (var prop in style) {\n      style[prop] = iterate(prop, style[prop], camelCasedOptions);\n    }\n\n    return style;\n  }\n\n  function onChangeValue(value, prop) {\n    return iterate(prop, value, camelCasedOptions);\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default defaultUnit;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import isInBrowser from 'is-in-browser';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\n// Export javascript style and css style vendor prefixes.\nvar js = '';\nvar css = '';\nvar vendor = '';\nvar browser = '';\nvar isTouch = isInBrowser && 'ontouchstart' in document.documentElement; // We should not do anything if required serverside.\n\nif (isInBrowser) {\n  // Order matters. We need to check Webkit the last one because\n  // other vendors use to add Webkit prefixes to some properties\n  var jsCssMap = {\n    Moz: '-moz-',\n    ms: '-ms-',\n    O: '-o-',\n    Webkit: '-webkit-'\n  };\n\n  var _document$createEleme = document.createElement('p'),\n      style = _document$createEleme.style;\n\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      js = key;\n      css = jsCssMap[key];\n      break;\n    }\n  } // Correctly detect the Edge browser.\n\n\n  if (js === 'Webkit' && 'msHyphens' in style) {\n    js = 'ms';\n    css = jsCssMap.ms;\n    browser = 'edge';\n  } // Correctly detect the Safari browser.\n\n\n  if (js === 'Webkit' && '-apple-trailing-word' in style) {\n    vendor = 'apple';\n  }\n}\n/**\n * Vendor prefix string for the current browser.\n *\n * @type {{js: String, css: String, vendor: String, browser: String}}\n * @api public\n */\n\n\nvar prefix = {\n  js: js,\n  css: css,\n  vendor: vendor,\n  browser: browser,\n  isTouch: isTouch\n};\n\n/**\n * Test if a keyframe at-rule should be prefixed or not\n *\n * @param {String} vendor prefix string for the current browser.\n * @return {String}\n * @api public\n */\n\nfunction supportedKeyframes(key) {\n  // Keyframes is already prefixed. e.g. key = '@-webkit-keyframes a'\n  if (key[1] === '-') return key; // No need to prefix IE/Edge. Older browsers will ignore unsupported rules.\n  // https://caniuse.com/#search=keyframes\n\n  if (prefix.js === 'ms') return key;\n  return \"@\" + prefix.css + \"keyframes\" + key.substr(10);\n}\n\n// https://caniuse.com/#search=appearance\n\nvar appearence = {\n  noPrefill: ['appearance'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'appearance') return false;\n    if (prefix.js === 'ms') return \"-webkit-\" + prop;\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=color-adjust\n\nvar colorAdjust = {\n  noPrefill: ['color-adjust'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'color-adjust') return false;\n    if (prefix.js === 'Webkit') return prefix.css + \"print-\" + prop;\n    return prop;\n  }\n};\n\nvar regExp = /[-\\s]+(.)?/g;\n/**\n * Replaces the letter with the capital letter\n *\n * @param {String} match\n * @param {String} c\n * @return {String}\n * @api private\n */\n\nfunction toUpper(match, c) {\n  return c ? c.toUpperCase() : '';\n}\n/**\n * Convert dash separated strings to camel-cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction camelize(str) {\n  return str.replace(regExp, toUpper);\n}\n\n/**\n * Convert dash separated strings to pascal cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction pascalize(str) {\n  return camelize(\"-\" + str);\n}\n\n// but we can use a longhand property instead.\n// https://caniuse.com/#search=mask\n\nvar mask = {\n  noPrefill: ['mask'],\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^mask/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var longhand = 'mask-image';\n\n      if (camelize(longhand) in style) {\n        return prop;\n      }\n\n      if (prefix.js + pascalize(longhand) in style) {\n        return prefix.css + prop;\n      }\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=text-orientation\n\nvar textOrientation = {\n  noPrefill: ['text-orientation'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'text-orientation') return false;\n\n    if (prefix.vendor === 'apple' && !prefix.isTouch) {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=transform\n\nvar transform = {\n  noPrefill: ['transform'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transform') return false;\n\n    if (options.transform) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=transition\n\nvar transition = {\n  noPrefill: ['transition'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transition') return false;\n\n    if (options.transition) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=writing-mode\n\nvar writingMode = {\n  noPrefill: ['writing-mode'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'writing-mode') return false;\n\n    if (prefix.js === 'Webkit' || prefix.js === 'ms' && prefix.browser !== 'edge') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=user-select\n\nvar userSelect = {\n  noPrefill: ['user-select'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'user-select') return false;\n\n    if (prefix.js === 'Moz' || prefix.js === 'ms' || prefix.vendor === 'apple') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=multicolumn\n// https://github.com/postcss/autoprefixer/issues/491\n// https://github.com/postcss/autoprefixer/issues/177\n\nvar breakPropsOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^break-/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var jsProp = \"WebkitColumn\" + pascalize(prop);\n      return jsProp in style ? prefix.css + \"column-\" + prop : false;\n    }\n\n    if (prefix.js === 'Moz') {\n      var _jsProp = \"page\" + pascalize(prop);\n\n      return _jsProp in style ? \"page-\" + prop : false;\n    }\n\n    return false;\n  }\n};\n\n// See https://github.com/postcss/autoprefixer/issues/324.\n\nvar inlineLogicalOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^(border|margin|padding)-inline/.test(prop)) return false;\n    if (prefix.js === 'Moz') return prop;\n    var newProp = prop.replace('-inline', '');\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\n\n// Camelization is required because we can't test using.\n// CSS syntax for e.g. in FF.\n\nvar unprefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    return camelize(prop) in style ? prop : false;\n  }\n};\n\nvar prefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var pascalized = pascalize(prop); // Return custom CSS variable without prefixing.\n\n    if (prop[0] === '-') return prop; // Return already prefixed value without prefixing.\n\n    if (prop[0] === '-' && prop[1] === '-') return prop;\n    if (prefix.js + pascalized in style) return prefix.css + prop; // Try webkit fallback.\n\n    if (prefix.js !== 'Webkit' && \"Webkit\" + pascalized in style) return \"-webkit-\" + prop;\n    return false;\n  }\n};\n\n// https://caniuse.com/#search=scroll-snap\n\nvar scrollSnap = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop.substring(0, 11) !== 'scroll-snap') return false;\n\n    if (prefix.js === 'ms') {\n      return \"\" + prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=overscroll-behavior\n\nvar overscrollBehavior = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'overscroll-behavior') return false;\n\n    if (prefix.js === 'ms') {\n      return prefix.css + \"scroll-chaining\";\n    }\n\n    return prop;\n  }\n};\n\nvar propMap = {\n  'flex-grow': 'flex-positive',\n  'flex-shrink': 'flex-negative',\n  'flex-basis': 'flex-preferred-size',\n  'justify-content': 'flex-pack',\n  order: 'flex-order',\n  'align-items': 'flex-align',\n  'align-content': 'flex-line-pack' // 'align-self' is handled by 'align-self' plugin.\n\n}; // Support old flex spec from 2012.\n\nvar flex2012 = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var newProp = propMap[prop];\n    if (!newProp) return false;\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\n\nvar propMap$1 = {\n  flex: 'box-flex',\n  'flex-grow': 'box-flex',\n  'flex-direction': ['box-orient', 'box-direction'],\n  order: 'box-ordinal-group',\n  'align-items': 'box-align',\n  'flex-flow': ['box-orient', 'box-direction'],\n  'justify-content': 'box-pack'\n};\nvar propKeys = Object.keys(propMap$1);\n\nvar prefixCss = function prefixCss(p) {\n  return prefix.css + p;\n}; // Support old flex spec from 2009.\n\n\nvar flex2009 = {\n  supportedProperty: function supportedProperty(prop, style, _ref) {\n    var multiple = _ref.multiple;\n\n    if (propKeys.indexOf(prop) > -1) {\n      var newProp = propMap$1[prop];\n\n      if (!Array.isArray(newProp)) {\n        return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n      }\n\n      if (!multiple) return false;\n\n      for (var i = 0; i < newProp.length; i++) {\n        if (!(prefix.js + pascalize(newProp[0]) in style)) {\n          return false;\n        }\n      }\n\n      return newProp.map(prefixCss);\n    }\n\n    return false;\n  }\n};\n\n// plugins = [\n//   ...plugins,\n//    breakPropsOld,\n//    inlineLogicalOld,\n//    unprefixed,\n//    prefixed,\n//    scrollSnap,\n//    flex2012,\n//    flex2009\n// ]\n// Plugins without 'noPrefill' value, going last.\n// 'flex-*' plugins should be at the bottom.\n// 'flex2009' going after 'flex2012'.\n// 'prefixed' going after 'unprefixed'\n\nvar plugins = [appearence, colorAdjust, mask, textOrientation, transform, transition, writingMode, userSelect, breakPropsOld, inlineLogicalOld, unprefixed, prefixed, scrollSnap, overscrollBehavior, flex2012, flex2009];\nvar propertyDetectors = plugins.filter(function (p) {\n  return p.supportedProperty;\n}).map(function (p) {\n  return p.supportedProperty;\n});\nvar noPrefill = plugins.filter(function (p) {\n  return p.noPrefill;\n}).reduce(function (a, p) {\n  a.push.apply(a, _toConsumableArray(p.noPrefill));\n  return a;\n}, []);\n\nvar el;\nvar cache = {};\n\nif (isInBrowser) {\n  el = document.createElement('p'); // We test every property on vendor prefix requirement.\n  // Once tested, result is cached. It gives us up to 70% perf boost.\n  // http://jsperf.com/element-style-object-access-vs-plain-object\n  //\n  // Prefill cache with known css properties to reduce amount of\n  // properties we need to feature test at runtime.\n  // http://davidwalsh.name/vendor-prefix\n\n  var computed = window.getComputedStyle(document.documentElement, '');\n\n  for (var key$1 in computed) {\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(key$1)) cache[computed[key$1]] = computed[key$1];\n  } // Properties that cannot be correctly detected using the\n  // cache prefill method.\n\n\n  noPrefill.forEach(function (x) {\n    return delete cache[x];\n  });\n}\n/**\n * Test if a property is supported, returns supported property with vendor\n * prefix if required. Returns `false` if not supported.\n *\n * @param {String} prop dash separated\n * @param {Object} [options]\n * @return {String|Boolean}\n * @api public\n */\n\n\nfunction supportedProperty(prop, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // For server-side rendering.\n  if (!el) return prop; // Remove cache for benchmark tests or return property from the cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache[prop] != null) {\n    return cache[prop];\n  } // Check if 'transition' or 'transform' natively supported in browser.\n\n\n  if (prop === 'transition' || prop === 'transform') {\n    options[prop] = prop in el.style;\n  } // Find a plugin for current prefix property.\n\n\n  for (var i = 0; i < propertyDetectors.length; i++) {\n    cache[prop] = propertyDetectors[i](prop, el.style, options); // Break loop, if value found.\n\n    if (cache[prop]) break;\n  } // Reset styles for current property.\n  // Firefox can even throw an error for invalid properties, e.g., \"0\".\n\n\n  try {\n    el.style[prop] = '';\n  } catch (err) {\n    return false;\n  }\n\n  return cache[prop];\n}\n\nvar cache$1 = {};\nvar transitionProperties = {\n  transition: 1,\n  'transition-property': 1,\n  '-webkit-transition': 1,\n  '-webkit-transition-property': 1\n};\nvar transPropsRegExp = /(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;\nvar el$1;\n/**\n * Returns prefixed value transition/transform if needed.\n *\n * @param {String} match\n * @param {String} p1\n * @param {String} p2\n * @return {String}\n * @api private\n */\n\nfunction prefixTransitionCallback(match, p1, p2) {\n  if (p1 === 'var') return 'var';\n  if (p1 === 'all') return 'all';\n  if (p2 === 'all') return ', all';\n  var prefixedValue = p1 ? supportedProperty(p1) : \", \" + supportedProperty(p2);\n  if (!prefixedValue) return p1 || p2;\n  return prefixedValue;\n}\n\nif (isInBrowser) el$1 = document.createElement('p');\n/**\n * Returns prefixed value if needed. Returns `false` if value is not supported.\n *\n * @param {String} property\n * @param {String} value\n * @return {String|Boolean}\n * @api public\n */\n\nfunction supportedValue(property, value) {\n  // For server-side rendering.\n  var prefixedValue = value;\n  if (!el$1 || property === 'content') return value; // It is a string or a number as a string like '1'.\n  // We want only prefixable values here.\n  // eslint-disable-next-line no-restricted-globals\n\n  if (typeof prefixedValue !== 'string' || !isNaN(parseInt(prefixedValue, 10))) {\n    return prefixedValue;\n  } // Create cache key for current value.\n\n\n  var cacheKey = property + prefixedValue; // Remove cache for benchmark tests or return value from cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache$1[cacheKey] != null) {\n    return cache$1[cacheKey];\n  } // IE can even throw an error in some cases, for e.g. style.content = 'bar'.\n\n\n  try {\n    // Test value as it is.\n    el$1.style[property] = prefixedValue;\n  } catch (err) {\n    // Return false if value not supported.\n    cache$1[cacheKey] = false;\n    return false;\n  } // If 'transition' or 'transition-property' property.\n\n\n  if (transitionProperties[property]) {\n    prefixedValue = prefixedValue.replace(transPropsRegExp, prefixTransitionCallback);\n  } else if (el$1.style[property] === '') {\n    // Value with a vendor prefix.\n    prefixedValue = prefix.css + prefixedValue; // Hardcode test to convert \"flex\" to \"-ms-flexbox\" for IE10.\n\n    if (prefixedValue === '-ms-flex') el$1.style[property] = '-ms-flexbox'; // Test prefixed value.\n\n    el$1.style[property] = prefixedValue; // Return false if value not supported.\n\n    if (el$1.style[property] === '') {\n      cache$1[cacheKey] = false;\n      return false;\n    }\n  } // Reset styles for current property.\n\n\n  el$1.style[property] = ''; // Write current value to cache.\n\n  cache$1[cacheKey] = prefixedValue;\n  return cache$1[cacheKey];\n}\n\nexport { prefix, supportedKeyframes, supportedProperty, supportedValue };\n","import { supportedKeyframes, supportedValue, supportedProperty } from 'css-vendor';\nimport { toCssValue } from 'jss';\n\n/**\n * Add vendor prefix to a property name when needed.\n *\n * @api public\n */\n\nfunction jssVendorPrefixer() {\n  function onProcessRule(rule) {\n    if (rule.type === 'keyframes') {\n      var atRule = rule;\n      atRule.at = supportedKeyframes(atRule.at);\n    }\n  }\n\n  function prefixStyle(style) {\n    for (var prop in style) {\n      var value = style[prop];\n\n      if (prop === 'fallbacks' && Array.isArray(value)) {\n        style[prop] = value.map(prefixStyle);\n        continue;\n      }\n\n      var changeProp = false;\n      var supportedProp = supportedProperty(prop);\n      if (supportedProp && supportedProp !== prop) changeProp = true;\n      var changeValue = false;\n      var supportedValue$1 = supportedValue(supportedProp, toCssValue(value));\n      if (supportedValue$1 && supportedValue$1 !== value) changeValue = true;\n\n      if (changeProp || changeValue) {\n        if (changeProp) delete style[prop];\n        style[supportedProp || prop] = supportedValue$1 || value;\n      }\n    }\n\n    return style;\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    return prefixStyle(style);\n  }\n\n  function onChangeValue(value, prop) {\n    return supportedValue(prop, toCssValue(value)) || value;\n  }\n\n  return {\n    onProcessRule: onProcessRule,\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default jssVendorPrefixer;\n","/**\n * Sort props by length.\n */\nfunction jssPropsSort() {\n  var sort = function sort(prop0, prop1) {\n    if (prop0.length === prop1.length) {\n      return prop0 > prop1 ? 1 : -1;\n    }\n\n    return prop0.length - prop1.length;\n  };\n\n  return {\n    onProcessStyle: function onProcessStyle(style, rule) {\n      if (rule.type !== 'style') return style;\n      var newStyle = {};\n      var props = Object.keys(style).sort(sort);\n\n      for (var i = 0; i < props.length; i++) {\n        newStyle[props[i]] = style[props[i]];\n      }\n\n      return newStyle;\n    }\n  };\n}\n\nexport default jssPropsSort;\n","import functions from 'jss-plugin-rule-value-function';\nimport global from 'jss-plugin-global';\nimport nested from 'jss-plugin-nested';\nimport camelCase from 'jss-plugin-camel-case';\nimport defaultUnit from 'jss-plugin-default-unit';\nimport vendorPrefixer from 'jss-plugin-vendor-prefixer';\nimport propsSort from 'jss-plugin-props-sort'; // Subset of jss-preset-default with only the plugins the Material-UI components are using.\n\nexport default function jssPreset() {\n  return {\n    plugins: [functions(), global(), nested(), camelCase(), defaultUnit(), // Disable the vendor prefixer server-side, it does nothing.\n    // This way, we can get a performance boost.\n    // In the documentation, we are using `autoprefixer` to solve this problem.\n    typeof window === 'undefined' ? null : vendorPrefixer(), propsSort()]\n  };\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getDisplayName } from '@material-ui/utils';\nexport default function mergeClasses() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var baseClasses = options.baseClasses,\n      newClasses = options.newClasses,\n      Component = options.Component;\n\n  if (!newClasses) {\n    return baseClasses;\n  }\n\n  var nextClasses = _extends({}, baseClasses);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof newClasses === 'string') {\n      console.error([\"Material-UI: The value `\".concat(newClasses, \"` \") + \"provided to the classes prop of \".concat(getDisplayName(Component), \" is incorrect.\"), 'You might want to use the className prop instead.'].join('\\n'));\n      return baseClasses;\n    }\n  }\n\n  Object.keys(newClasses).forEach(function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!baseClasses[key] && newClasses[key]) {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not implemented in \".concat(getDisplayName(Component), \".\"), \"You can only override one of the following: \".concat(Object.keys(baseClasses).join(','), \".\")].join('\\n'));\n      }\n\n      if (newClasses[key] && typeof newClasses[key] !== 'string') {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not valid for \".concat(getDisplayName(Component), \".\"), \"You need to provide a non empty string instead of: \".concat(newClasses[key], \".\")].join('\\n'));\n      }\n    }\n\n    if (newClasses[key]) {\n      nextClasses[key] = \"\".concat(baseClasses[key], \" \").concat(newClasses[key]);\n    }\n  });\n  return nextClasses;\n}","// Used https://github.com/thinkloop/multi-key-cache as inspiration\nvar multiKeyStore = {\n  set: function set(cache, key1, key2, value) {\n    var subCache = cache.get(key1);\n\n    if (!subCache) {\n      subCache = new Map();\n      cache.set(key1, subCache);\n    }\n\n    subCache.set(key2, value);\n  },\n  get: function get(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    return subCache ? subCache.get(key2) : undefined;\n  },\n  delete: function _delete(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    subCache.delete(key2);\n  }\n};\nexport default multiKeyStore;","import React from 'react';\nvar ThemeContext = React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'ThemeContext';\n}\n\nexport default ThemeContext;","import React from 'react';\nimport ThemeContext from './ThemeContext';\nexport default function useTheme() {\n  var theme = React.useContext(ThemeContext);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n\n  return theme;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport createGenerateClassName from '../createGenerateClassName';\nimport { create } from 'jss';\nimport jssPreset from '../jssPreset'; // Default JSS instance.\n\nvar jss = create(jssPreset()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nvar generateClassName = createGenerateClassName(); // Exported for test purposes\n\nexport var sheetsManager = new Map();\nvar defaultOptions = {\n  disableGeneration: false,\n  generateClassName: generateClassName,\n  jss: jss,\n  sheetsCache: null,\n  sheetsManager: sheetsManager,\n  sheetsRegistry: null\n};\nexport var StylesContext = React.createContext(defaultOptions);\n\nif (process.env.NODE_ENV !== 'production') {\n  StylesContext.displayName = 'StylesContext';\n}\n\nvar injectFirstNode;\nexport default function StylesProvider(props) {\n  var children = props.children,\n      _props$injectFirst = props.injectFirst,\n      injectFirst = _props$injectFirst === void 0 ? false : _props$injectFirst,\n      _props$disableGenerat = props.disableGeneration,\n      disableGeneration = _props$disableGenerat === void 0 ? false : _props$disableGenerat,\n      localOptions = _objectWithoutProperties(props, [\"children\", \"injectFirst\", \"disableGeneration\"]);\n\n  var outerOptions = React.useContext(StylesContext);\n\n  var context = _extends({}, outerOptions, {\n    disableGeneration: disableGeneration\n  }, localOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window === 'undefined' && !context.sheetsManager) {\n      console.error('Material-UI: You need to use the ServerStyleSheets API when rendering on the server.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (context.jss.options.insertionPoint && injectFirst) {\n      console.error('Material-UI: You cannot use a custom insertionPoint and <StylesContext injectFirst> at the same time.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (injectFirst && localOptions.jss) {\n      console.error('Material-UI: You cannot use the jss and injectFirst props at the same time.');\n    }\n  }\n\n  if (!context.jss.options.insertionPoint && injectFirst && typeof window !== 'undefined') {\n    if (!injectFirstNode) {\n      var head = document.head;\n      injectFirstNode = document.createComment('mui-inject-first');\n      head.insertBefore(injectFirstNode, head.firstChild);\n    }\n\n    context.jss = create({\n      plugins: jssPreset().plugins,\n      insertionPoint: injectFirstNode\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(StylesContext.Provider, {\n    value: context\n  }, children);\n}\nprocess.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * You can disable the generation of the styles with this option.\n   * It can be useful when traversing the React tree outside of the HTML\n   * rendering step on the server.\n   * Let's say you are using react-apollo to extract all\n   * the queries made by the interface server-side - you can significantly speed up the traversal with this prop.\n   */\n  disableGeneration: PropTypes.bool,\n\n  /**\n   * JSS's class name generator.\n   */\n  generateClassName: PropTypes.func,\n\n  /**\n   * By default, the styles are injected last in the <head> element of the page.\n   * As a result, they gain more specificity than any other style sheet.\n   * If you want to override Material-UI's styles, set this prop.\n   */\n  injectFirst: PropTypes.bool,\n\n  /**\n   * JSS's instance.\n   */\n  jss: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  serverGenerateClassName: PropTypes.func,\n\n  /**\n   * @ignore\n   *\n   * Beta feature.\n   *\n   * Cache for the sheets.\n   */\n  sheetsCache: PropTypes.object,\n\n  /**\n   * @ignore\n   *\n   * The sheetsManager is used to deduplicate style sheet injection in the page.\n   * It's deduplicating using the (theme, styles) couple.\n   * On the server, you should provide a new instance for each request.\n   */\n  sheetsManager: PropTypes.object,\n\n  /**\n   * @ignore\n   *\n   * Collect the sheets.\n   */\n  sheetsRegistry: PropTypes.object\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = exactProp(StylesProvider.propTypes) : void 0;\n}","/* eslint-disable import/prefer-default-export */\n// Global index counter to preserve source order.\n// We create the style sheet during the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\nvar indexCounter = -1e9;\nexport function increment() {\n  indexCounter += 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (indexCounter >= 0) {\n      console.warn(['Material-UI: You might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n'));\n    }\n  }\n\n  return indexCounter;\n}","// We use the same empty object to ref count the styles that don't need a theme object.\nvar noopTheme = {};\nexport default noopTheme;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { deepmerge } from '@material-ui/utils';\nimport noopTheme from './noopTheme';\nexport default function getStylesCreator(stylesOrCreator) {\n  var themingEnabled = typeof stylesOrCreator === 'function';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (_typeof(stylesOrCreator) !== 'object' && !themingEnabled) {\n      console.error(['Material-UI: The `styles` argument provided is invalid.', 'You need to provide a function generating the styles or a styles object.'].join('\\n'));\n    }\n  }\n\n  return {\n    create: function create(theme, name) {\n      var styles;\n\n      try {\n        styles = themingEnabled ? stylesOrCreator(theme) : stylesOrCreator;\n      } catch (err) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (themingEnabled === true && theme === noopTheme) {\n            // TODO: prepend error message/name instead\n            console.error(['Material-UI: The `styles` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n          }\n        }\n\n        throw err;\n      }\n\n      if (!name || !theme.overrides || !theme.overrides[name]) {\n        return styles;\n      }\n\n      var overrides = theme.overrides[name];\n\n      var stylesWithOverrides = _extends({}, styles);\n\n      Object.keys(overrides).forEach(function (key) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (!stylesWithOverrides[key]) {\n            console.warn(['Material-UI: You are trying to override a style that does not exist.', \"Fix the `\".concat(key, \"` key of `theme.overrides.\").concat(name, \"`.\")].join('\\n'));\n          }\n        }\n\n        stylesWithOverrides[key] = deepmerge(stylesWithOverrides[key], overrides[key]);\n      });\n      return stylesWithOverrides;\n    },\n    options: {}\n  };\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { getDynamicStyles } from 'jss';\nimport mergeClasses from '../mergeClasses';\nimport multiKeyStore from './multiKeyStore';\nimport useTheme from '../useTheme';\nimport { StylesContext } from '../StylesProvider';\nimport { increment } from './indexCounter';\nimport getStylesCreator from '../getStylesCreator';\nimport noopTheme from '../getStylesCreator/noopTheme';\n\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n      stylesOptions = _ref.stylesOptions;\n\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n\n  var generate = false;\n\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n\n  if (generate) {\n    state.cacheClasses.value = mergeClasses({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n\n  return state.cacheClasses.value;\n}\n\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n      theme = _ref2.theme,\n      stylesOptions = _ref2.stylesOptions,\n      stylesCreator = _ref2.stylesCreator,\n      name = _ref2.name;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n    multiKeyStore.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n\n  var options = _extends({}, stylesCreator.options, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n\n    if (stylesOptions.sheetsCache) {\n      staticSheet = multiKeyStore.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n\n    var styles = stylesCreator.create(theme, name);\n\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, _extends({\n        link: false\n      }, options));\n      staticSheet.attach();\n\n      if (stylesOptions.sheetsCache) {\n        multiKeyStore.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = getDynamicStyles(styles);\n  }\n\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, _extends({\n      link: true\n    }, options));\n    dynamicSheet.update(props);\n    dynamicSheet.attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = mergeClasses({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n\n  sheetManager.refs += 1;\n}\n\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\n\nfunction detach(_ref4) {\n  var state = _ref4.state,\n      theme = _ref4.theme,\n      stylesOptions = _ref4.stylesOptions,\n      stylesCreator = _ref4.stylesCreator;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    multiKeyStore.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\n\nfunction useSynchronousEffect(func, values) {\n  var key = React.useRef([]);\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = React.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n\n  React.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nexport default function makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var name = options.name,\n      classNamePrefixOption = options.classNamePrefix,\n      Component = options.Component,\n      _options$defaultTheme = options.defaultTheme,\n      defaultTheme = _options$defaultTheme === void 0 ? noopTheme : _options$defaultTheme,\n      stylesOptions2 = _objectWithoutProperties(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n\n  var stylesCreator = getStylesCreator(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: increment(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n\n  var useStyles = function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = useTheme() || defaultTheme;\n\n    var stylesOptions = _extends({}, React.useContext(StylesContext), stylesOptions2);\n\n    var instance = React.useRef();\n    var shouldUpdate = React.useRef();\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n    React.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n\n      shouldUpdate.current = true;\n    });\n    var classes = getClasses(instance.current, props.classes, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      React.useDebugValue(classes);\n    }\n\n    return classes;\n  };\n\n  return useStyles;\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Badge from '@material-ui/core/Badge';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n    badge: (props) => ({\n        background: props.badgeColor,\n    }),\n});\n\nfunction ButtonControl({\n    children,\n    onClick,\n    disabled = false,\n    active = false,\n    text = '',\n    badgeColor = null,\n    ...rest\n}) {\n    const classes = useStyles({ badgeColor });\n    return (\n        <Tooltip title={text} aria-disabled={disabled}>\n            <span>\n                <IconButton\n                    onClick={onClick}\n                    disabled={disabled}\n                    color={active ? 'primary' : 'default'}\n                    {...rest}>\n                    <Badge\n                        anchorOrigin={{\n                            vertical: 'top',\n                            horizontal: 'left',\n                        }}\n                        classes={{ badge: classes.badge }}\n                        overlap=\"circle\"\n                        badgeContent=\" \"\n                        invisible={badgeColor === null}\n                        variant=\"dot\">\n                        {children}\n                    </Badge>\n                </IconButton>\n            </span>\n        </Tooltip>\n    );\n}\n\nButtonControl.propTypes = {\n    children: PropTypes.any.isRequired,\n    onClick: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n    text: PropTypes.any,\n    badgeColor: PropTypes.any,\n    active: PropTypes.bool,\n};\n\nexport default ButtonControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { EditorState } from 'draft-js';\nimport ButtonControl from '../core/ButtonControl';\nimport UndoIcon from '@material-ui/icons/Undo';\n\nfunction UndoControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n\n    const onClick = () => {\n        editor.onChange(EditorState.undo(editor.editorState));\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl onClick={onClick} text={editor.translate('controls.undo.title')}>\n            <UndoIcon />\n        </ButtonControl>\n    );\n}\n\nexport default UndoControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { EditorState } from 'draft-js';\nimport ButtonControl from '../core/ButtonControl';\nimport RedoIcon from '@material-ui/icons/Redo';\n\nfunction RedoControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n\n    const onClick = () => {\n        editor.onChange(EditorState.redo(editor.editorState));\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl onClick={onClick} text={editor.translate('controls.redo.title')}>\n            <RedoIcon />\n        </ButtonControl>\n    );\n}\n\nexport default RedoControl;\n","import { EditorState, Modifier, RichUtils } from 'draft-js';\n\nexport const toggleMappedInlineStyle = (editorState, styleKeys, newInlineStyle) => {\n    const selection = editorState.getSelection();\n\n    // Turn off the other mapped inline styled in selection\n    const newContentState = styleKeys.reduce(\n        (contentState, inlineStyle) =>\n            Modifier.removeInlineStyle(contentState, selection, inlineStyle),\n        editorState.getCurrentContent()\n    );\n\n    let newEditorState = EditorState.push(editorState, newContentState, 'change-inline-style');\n\n    const currentStyle = editorState.getCurrentInlineStyle();\n\n    if (selection.isCollapsed()) {\n        newEditorState = currentStyle.reduce((state, inlineStyle) => {\n            return RichUtils.toggleInlineStyle(state, inlineStyle);\n        }, newEditorState);\n    }\n    // If the inline style is being toggled on, apply it.\n    if (!currentStyle.has(newInlineStyle)) {\n        newEditorState = RichUtils.toggleInlineStyle(newEditorState, newInlineStyle);\n    }\n\n    return newEditorState;\n};\n\nexport const getCurrentMappedInlineStyle = (editorState, styleKeys, defaultInlineStyle = null) => {\n    const currentStyle = editorState.getCurrentInlineStyle();\n    return (\n        currentStyle.find((inlineStyle) => styleKeys.includes(inlineStyle)) || defaultInlineStyle\n    );\n};\n\nexport const hasAllSelectionTheInlineStyle = (editorState, inlineStyle) => {\n    const selection = editorState.getSelection();\n    const startKey = selection.getStartKey();\n    const startOffset = selection.getStartOffset();\n    const endKey = selection.getEndKey();\n    const endOffset = selection.getEndOffset();\n\n    const currentContent = editorState.getCurrentContent();\n\n    let block = currentContent.getBlockForKey(startKey);\n    let allHasTheInlineStyle = true;\n\n    const styleRangesCallback = (block) => (start, end) => {\n        const expectedStart = block.getKey() === startKey ? startOffset : 0;\n        const expectedEnd = block.getKey() === endKey ? endOffset : block.getLength() - 1;\n        allHasTheInlineStyle = start <= expectedStart && end >= expectedEnd;\n    };\n\n    while (block && allHasTheInlineStyle) {\n        allHasTheInlineStyle = false;\n        block.findStyleRanges(\n            (character) => character.hasStyle(inlineStyle),\n            styleRangesCallback(block)\n        );\n        if (block.getKey() !== endKey) break;\n        block = currentContent.getBlockAfter(block.getKey());\n    }\n\n    return allHasTheInlineStyle;\n};\n\nexport const getCurrentBlockType = (editorState, availableBlockTypes) => {\n    const blockType = RichUtils.getCurrentBlockType(editorState);\n    if (availableBlockTypes.find((avBlockType) => avBlockType === blockType)) return blockType;\n    return 'default';\n};\n\nexport const applyEntityToCurrentSelection = (editorState, entityType, mutability, entityData) => {\n    const content = editorState.getCurrentContent();\n    const contentWithEntity = content.createEntity(entityType, mutability, entityData);\n    const entityKey = contentWithEntity.getLastCreatedEntityKey();\n    const selection = editorState.getSelection();\n    const contentStateWithEntity = Modifier.applyEntity(contentWithEntity, selection, entityKey);\n    return EditorState.push(editorState, contentStateWithEntity, 'apply-entity');\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils } from 'draft-js';\nimport ButtonControl from './ButtonControl';\nimport { hasAllSelectionTheInlineStyle } from '../../../utils/editorStateUtils';\n\nToggleInlineStyleButtonControl.propTypes = {\n    inlineStyle: PropTypes.string.isRequired,\n    children: PropTypes.any.isRequired,\n    text: PropTypes.any,\n};\n\nfunction ToggleInlineStyleButtonControl({ inlineStyle, children, text }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [isActive, setIsActive] = React.useState(false);\n\n    React.useEffect(() => {\n        setIsActive(hasAllSelectionTheInlineStyle(editor.editorState, inlineStyle));\n    }, [editor.editorState, inlineStyle]);\n\n    const onClick = () => {\n        const newEditorState = RichUtils.toggleInlineStyle(editor.editorState, inlineStyle);\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl\n            text={text}\n            onClick={onClick}\n            active={isActive}\n            disabled={editor.editorState.getSelection().isCollapsed()}>\n            {children}\n        </ButtonControl>\n    );\n}\n\nexport default ToggleInlineStyleButtonControl;\n","export default {\n    BOLD: 'BOLD',\n    ITALIC: 'ITALIC',\n    UNDERLINE: 'UNDERLINE',\n    STRIKETHROUGH: 'STRIKETHROUGH',\n    CODE: 'CODE',\n    FONT_FAMILY: 'FONT_FAMILY',\n    FONT_SIZE: 'FONT_SIZE',\n    FONT_COLOR: 'FONT_COLOR',\n    FONT_BACKGROUND: 'FONT_BACKGROUND',\n};\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction BoldControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.BOLD}\n            text={editor.translate('controls.bold.title')}>\n            <FormatBoldIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default BoldControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction ItalicControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.ITALIC}\n            text={editor.translate('controls.italic.title')}>\n            <FormatItalicIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default ItalicControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatUnderlinedIcon from '@material-ui/icons/FormatUnderlined';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction UnderlineControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.UNDERLINE}\n            text={editor.translate('controls.underline.title')}>\n            <FormatUnderlinedIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default UnderlineControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatStrikethroughIcon from '@material-ui/icons/FormatStrikethrough';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction StrikethroughControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.STRIKETHROUGH}\n            text={editor.translate('controls.strikethrough.title')}>\n            <FormatStrikethroughIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default StrikethroughControl;\n","export default {\n    LINK: 'LINK',\n    IMAGE: 'IMAGE',\n};\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport ButtonControl from '../core/ButtonControl';\nimport LinkIcon from '@material-ui/icons/Link';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport entities from '../../../types/entities';\nimport { applyEntityToCurrentSelection } from '../../../utils/editorStateUtils';\n\nfunction LinkAddControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [isDialogOpened, setIsDialogOpened] = React.useState(false);\n    const [link, setLink] = React.useState('');\n    const formRef = React.createRef();\n\n    const onClick = () => {\n        setLink('');\n        setIsDialogOpened(true);\n    };\n\n    const handleCloseDialog = () => {\n        setIsDialogOpened(false);\n    };\n\n    const onChangeLink = (ev) => {\n        setLink(ev.currentTarget.value);\n    };\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        if (link === '') return;\n        handleCloseDialog();\n        editor.onChange(\n            applyEntityToCurrentSelection(editor.editorState, entities.LINK, 'MUTABLE', {\n                url: link,\n            })\n        );\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                onClick={onClick}\n                text={editor.translate('controls.linkAdd.title')}\n                disabled={editor.editorState.getSelection().isCollapsed()}>\n                <LinkIcon />\n            </ButtonControl>\n            <Dialog open={isDialogOpened} onClose={handleCloseDialog}>\n                <form ref={formRef} onSubmit={handleSubmit}>\n                    <DialogContent>\n                        <TextField\n                            autoFocus\n                            label={editor.translate('controls.linkAdd.labels.link')}\n                            value={link}\n                            onChange={onChangeLink}\n                            fullWidth\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button type=\"button\" onClick={handleCloseDialog} color=\"primary\">\n                            {editor.translate('controls.linkAdd.actions.cancel')}\n                        </Button>\n                        <Button type=\"submit\" color=\"primary\" disabled={link === ''}>\n                            {editor.translate('controls.linkAdd.actions.add')}\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </React.Fragment>\n    );\n}\n\nexport default LinkAddControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils, SelectionState } from 'draft-js';\nimport Link from '@material-ui/core/Link';\nimport entities from '../../../types/entities';\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\nconst linkStrategy = (contentBlock, callback, contentState) => {\n    contentBlock.findEntityRanges((character) => {\n        const entityKey = character.getEntity();\n        return entityKey !== null && contentState.getEntity(entityKey).getType() === entities.LINK;\n    }, callback);\n};\n\nconst EditorLink = ({ contentState, entityKey, blockKey, start, end, children }) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const { url } = contentState.getEntity(entityKey).getData();\n\n    const showOptions = (ev) => {\n        setAnchorEl(ev.currentTarget);\n    };\n\n    const hideOptions = () => {\n        setAnchorEl(null);\n    };\n\n    const openLink = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        window.open(url, '_blank');\n    };\n\n    const removeLink = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const linkSelection = SelectionState.createEmpty(blockKey).merge({\n            anchorKey: blockKey,\n            anchorOffset: start,\n            focusKey: blockKey,\n            focusOffset: end,\n        });\n\n        editor.onChange(RichUtils.toggleLink(editor.editorState, linkSelection, null));\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <Link\n                href={url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                aria-label={url}\n                onClick={showOptions}>\n                {children}\n            </Link>\n            <Popover\n                open={Boolean(anchorEl)}\n                onClose={hideOptions}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}>\n                <ButtonGroup size=\"small\" aria-label=\"Link options\">\n                    <Button onClick={openLink} title={`Open ${url}`}>\n                        <LaunchIcon />\n                    </Button>\n                    <Button onClick={removeLink} title=\"Remove link\">\n                        <LinkOffIcon />\n                    </Button>\n                </ButtonGroup>\n            </Popover>\n        </React.Fragment>\n    );\n};\n\nEditorLink.propTypes = {\n    contentState: PropTypes.object.isRequired,\n    entityKey: PropTypes.string.isRequired,\n    blockKey: PropTypes.string.isRequired,\n    start: PropTypes.number.isRequired,\n    end: PropTypes.number.isRequired,\n    children: PropTypes.any,\n};\n\nconst linkAddPlugin = () => ({\n    decorators: [\n        {\n            strategy: linkStrategy,\n            component: EditorLink,\n        },\n    ],\n});\n\nexport default linkAddPlugin;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport { RichUtils } from 'draft-js';\nimport ButtonControl from '../core/ButtonControl';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\nfunction LinkRemoveControl() {\n    const editor = useEditor();\n\n    const onClick = () => {\n        const selection = editor.editorState.getSelection();\n        editor.onChange(RichUtils.toggleLink(editor.editorState, selection, null));\n    };\n\n    return (\n        <ButtonControl\n            onClick={onClick}\n            text={editor.translate('controls.linkRemove.title')}\n            disabled={editor.editorState.getSelection().isCollapsed()}>\n            <LinkOffIcon />\n        </ButtonControl>\n    );\n}\n\nexport default LinkRemoveControl;\n","export const LANG_PREFIX = 'lang::';\n","import { LANG_PREFIX } from '../types/lang';\n\nexport const translateLiteralWithPrefix = (literal, translateFn) =>\n    (typeof literal === 'string' || literal instanceof String) &&\n    literal.substr(0, LANG_PREFIX.length) === LANG_PREFIX\n        ? translateFn(literal.substr(LANG_PREFIX.length))\n        : literal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/styles';\nimport useEditor from '../../../hooks/useEditor';\nimport { translateLiteralWithPrefix } from '../../../utils/translateUtils';\n\nconst useStyles = makeStyles((theme) => ({\n    selectControl: {\n        margin: 1//theme.spacing(1),\n    },\n}));\n\nfunction DropdownControl({ value, onChange, options, minWidth = 120, ...rest }) {\n    const classes = useStyles();\n    const editor = useEditor();\n\n    return (\n        <Select\n            value={value}\n            onChange={(ev) => onChange(ev.target.value)}\n            className={classes.selectControl}\n            style={{ minWidth }}\n            {...rest}>\n            {options.map((option) => (\n                <MenuItem key={option.value || 'empty'} value={option.value}>\n                    {option.text ? translateLiteralWithPrefix(option.text, editor.translate) : ''}\n                </MenuItem>\n            ))}\n        </Select>\n    );\n}\n\nDropdownControl.propTypes = {\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func.isRequired,\n    options: PropTypes.array.isRequired,\n    minWidth: PropTypes.number,\n};\n\nexport default DropdownControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DropdownControl from '../core/DropdownControl';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils } from 'draft-js';\nimport { getCurrentBlockType } from '../../../utils/editorStateUtils';\n\nfunction BlockTypeControl({ configuration, defaultConfiguration }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const options = configuration.options || defaultConfiguration.options;\n    const [value, setValue] = React.useState('default');\n\n    React.useEffect(() => {\n        setValue(\n            getCurrentBlockType(\n                editor.editorState,\n                options.map((option) => option.value)\n            )\n        );\n    }, [editor, options]);\n\n    const handleChange = (newValue) => {\n        setValue(newValue);\n        const newEditorState = RichUtils.toggleBlockType(\n            editor.editorState,\n            newValue === 'normal' ? '' : newValue\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return <DropdownControl options={options} onChange={handleChange} value={value} />;\n}\n\nBlockTypeControl.propTypes = {\n    configuration: PropTypes.any,\n    defaultConfiguration: PropTypes.any.isRequired,\n};\n\nexport default BlockTypeControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils } from 'draft-js';\nimport ButtonControl from './ButtonControl';\n\nToggleBlockTypeButtonControl.propTypes = {\n    blockType: PropTypes.string.isRequired,\n    children: PropTypes.any.isRequired,\n    text: PropTypes.any,\n};\n\nfunction ToggleBlockTypeButtonControl({ blockType, children, text }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n\n    const onClick = () => {\n        const newEditorState = RichUtils.toggleBlockType(editor.editorState, blockType);\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl text={text} onClick={onClick}>\n            {children}\n        </ButtonControl>\n    );\n}\n\nexport default ToggleBlockTypeButtonControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleBlockTypeButtonControl from '../core/ToggleBlockTypeButtonControl';\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\n\nfunction UnorderedListControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleBlockTypeButtonControl\n            blockType=\"unordered-list-item\"\n            text={editor.translate('controls.unorderedList.title')}>\n            <FormatListBulletedIcon />\n        </ToggleBlockTypeButtonControl>\n    );\n}\n\nexport default UnorderedListControl;\n","export default {\n    H1: 'header-one',\n    H2: 'header-two',\n    H3: 'header-three',\n    H4: 'header-four',\n    H5: 'header-five',\n    H6: 'header-six',\n    UL: 'unordered-list-item',\n    OL: 'ordered-list-item',\n    BLOCKQUOTE: 'blockquote',\n    CODE_BLOCK: 'code-block',\n    UNSTYLED: 'unstyled',\n    ATOMIC: 'atomic',\n};\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleBlockTypeButtonControl from '../core/ToggleBlockTypeButtonControl';\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\nimport blockStyles from '../../../types/blockStyles';\n\nfunction OrderedListControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleBlockTypeButtonControl\n            blockType={blockStyles.OL}\n            text={editor.translate('controls.orderedList.title')}>\n            <FormatListNumberedIcon />\n        </ToggleBlockTypeButtonControl>\n    );\n}\n\nexport default OrderedListControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport DropdownControl from '../core/DropdownControl';\nimport inlineStyles from '../../../types/inlineStyles';\nimport {\n    getCurrentMappedInlineStyle,\n    toggleMappedInlineStyle,\n} from '../../../utils/editorStateUtils';\n\nfunction FontFamilyControl({ pluginData }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedFontFamilyStyle, setSelectedFontFamilyStyle] = React.useState(\n        `${inlineStyles.FONT_FAMILY}-default`\n    );\n    const styleKeys = Object.keys(pluginData.customStyleMap);\n\n    React.useEffect(() => {\n        setSelectedFontFamilyStyle(\n            getCurrentMappedInlineStyle(\n                editor.editorState,\n                styleKeys,\n                `${inlineStyles.FONT_FAMILY}-default`\n            )\n        );\n    }, [editor.editorState, styleKeys]);\n\n    const handleChange = (newInlineStyle) => {\n        setSelectedFontFamilyStyle(newInlineStyle);\n        const newEditorState = toggleMappedInlineStyle(\n            editor.editorState,\n            styleKeys,\n            newInlineStyle\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <DropdownControl\n            options={styleKeys.map((inlineStyle) => ({\n                value: inlineStyle,\n                text: pluginData.customStyleMap[inlineStyle].fontFamily ? (\n                    <span\n                        style={{\n                            fontFamily: pluginData.customStyleMap[inlineStyle].fontFamily,\n                        }}>\n                        {pluginData.customStyleMap[inlineStyle].fontFamily}\n                    </span>\n                ) : (\n                    'default'\n                ),\n            }))}\n            onChange={handleChange}\n            value={selectedFontFamilyStyle}\n        />\n    );\n}\n\nFontFamilyControl.propTypes = {\n    pluginData: PropTypes.any.isRequired,\n};\n\nexport default FontFamilyControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontFamilyPlugin = (configuration, defaultConfiguration) => {\n    const fontFamilies = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontFamily of fontFamilies) {\n        customStyleMap[`${inlineStyles.FONT_FAMILY}-${fontFamily}`] =\n            fontFamily === 'default'\n                ? {}\n                : {\n                      fontFamily,\n                  };\n    }\n    return { customStyleMap };\n};\n\nexport default fontFamilyPlugin;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { Modifier, EditorState } from 'draft-js';\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\nimport ButtonControl from '../core/ButtonControl';\n\nfunction TextAlignControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedTextAlign, setSelectedTextAlign] = React.useState(null);\n\n    React.useEffect(() => {\n        const selection = editor.editorState.getSelection();\n        const currentBlock = editor.editorState\n            .getCurrentContent()\n            .getBlockForKey(selection.getStartKey());\n        const blockData = currentBlock.getData();\n        if (blockData && blockData.get('textAlign')) {\n            setSelectedTextAlign(blockData.get('textAlign'));\n        } else {\n            setSelectedTextAlign(null);\n        }\n    }, [editor.editorState]);\n\n    const toggle = (textAlign) => {\n        setSelectedTextAlign(textAlign);\n        const { editorState } = editor;\n        const newContentState = Modifier.mergeBlockData(\n            editorState.getCurrentContent(),\n            editorState.getSelection(),\n            { textAlign }\n        );\n        editor.onChange(EditorState.push(editorState, newContentState, 'change-block-data'));\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                active={selectedTextAlign === 'left'}\n                onClick={() => toggle('left')}\n                text={editor.translate('controls.textAlign.actions.alignLeft')}>\n                <FormatAlignLeftIcon />\n            </ButtonControl>\n            <ButtonControl\n                active={selectedTextAlign === 'center'}\n                onClick={() => toggle('center')}\n                text={editor.translate('controls.textAlign.actions.alignCenter')}>\n                <FormatAlignCenterIcon />\n            </ButtonControl>\n            <ButtonControl\n                active={selectedTextAlign === 'right'}\n                onClick={() => toggle('right')}\n                text={editor.translate('controls.textAlign.actions.alignRight')}>\n                <FormatAlignRightIcon />\n            </ButtonControl>\n            <ButtonControl\n                active={selectedTextAlign === 'justify'}\n                onClick={() => toggle('justify')}\n                text={editor.translate('controls.textAlign.actions.justify')}>\n                <FormatAlignJustifyIcon />\n            </ButtonControl>\n        </React.Fragment>\n    );\n}\n\nTextAlignControl.propTypes = {};\n\nexport default TextAlignControl;\n","const textAlignPlugin = () => ({\n    blockStyleFn: (block) => {\n        const textAlign = block.getData() ? block.getData().get('textAlign') : null;\n        if (textAlign) {\n            return `mui-editor-${textAlign}-aligned-block`;\n        }\n\n        return '';\n    },\n});\n\nexport default textAlignPlugin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport DropdownControl from '../core/DropdownControl';\nimport inlineStyles from '../../../types/inlineStyles';\nimport {\n    getCurrentMappedInlineStyle,\n    toggleMappedInlineStyle,\n} from '../../../utils/editorStateUtils';\n\nFontSizeControl.propTypes = {\n    pluginData: PropTypes.object.isRequired,\n};\n\nfunction FontSizeControl({ pluginData }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedFontSizeStyle, setSelectedFontSizeStyle] = React.useState(\n        `${inlineStyles.FONT_SIZE}-default`\n    );\n    const styleKeys = Object.keys(pluginData.customStyleMap);\n\n    React.useEffect(() => {\n        setSelectedFontSizeStyle(\n            getCurrentMappedInlineStyle(\n                editor.editorState,\n                styleKeys,\n                `${inlineStyles.FONT_SIZE}-default`\n            )\n        );\n    }, [editor.editorState, styleKeys]);\n\n    const handleChange = (newInlineStyle) => {\n        setSelectedFontSizeStyle(newInlineStyle);\n        const newEditorState = toggleMappedInlineStyle(\n            editor.editorState,\n            styleKeys,\n            newInlineStyle\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <DropdownControl\n            options={styleKeys.map((inlineStyle) => ({\n                text: pluginData.customStyleMap[inlineStyle].fontSize ? (\n                    <span style={{ fontSize: pluginData.customStyleMap[inlineStyle].fontSize }}>\n                        {pluginData.customStyleMap[inlineStyle].fontSize}\n                    </span>\n                ) : (\n                    'default'\n                ),\n                value: inlineStyle,\n            }))}\n            onChange={handleChange}\n            renderValue={(style) =>\n                pluginData.customStyleMap[style].fontSize ||\n                editor.translate('controls.fontSize.labels.default')\n            }\n            value={selectedFontSizeStyle}\n            minWidth={50}\n        />\n    );\n}\n\nexport default FontSizeControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontSizePlugin = (configuration, defaultConfiguration) => {\n    const fontSizes = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontSize of fontSizes) {\n        customStyleMap[`${inlineStyles.FONT_SIZE}-${fontSize}`] =\n            fontSize === 'default' ? {} : { fontSize };\n    }\n    return { customStyleMap };\n};\n\nexport default fontSizePlugin;\n","// Created by Andreas Wik\nexport const isLightOrDark = (color) => {\n    let r, g, b;\n    // Check the format of the color, HEX or RGB?\n    if (color.match(/^rgb/)) {\n        // If HEX --> store the red, green, blue values in separate variables\n        color = color.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\n\n        r = color[1];\n        g = color[2];\n        b = color[3];\n    } else {\n        // If RGB --> Convert it to HEX: http://gist.github.com/983661\n        color = +('0x' + color.slice(1).replace(color.length < 5 && /./g, '$&$&'));\n\n        r = color >> 16;\n        g = (color >> 8) & 255;\n        b = color & 255;\n    }\n\n    // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html\n    const hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n\n    // Using the HSP value, determine whether the color is light or dark\n    if (hsp > 127.5) {\n        return 'light';\n    } else {\n        return 'dark';\n    }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonControl from '../ButtonControl';\nimport Popover from '@material-ui/core/Popover';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FormatColorResetIcon from '@material-ui/icons/FormatColorReset';\nimport CheckIcon from '@material-ui/icons/Check';\nimport { isLightOrDark } from '../../../../utils/colorUtils';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n    colorRow: {\n        display: 'flex',\n        alignContent: 'center',\n        alignItems: 'center',\n        padding: 5,\n    },\n    colorItem: {\n        height: 25,\n        width: 25,\n        borderRadius: '50%',\n        margin: 3,\n        border: 'solid 1px #c4c4c4',\n        cursor: 'pointer',\n        display: 'flex',\n        alignContent: 'center',\n        alignItems: 'center',\n    },\n});\n\nfunction ColorSelectorControl({\n    selectedColor,\n    onSelectColor,\n    colors,\n    colorsPerRow = 10,\n    children,\n    ...rest\n}) {\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const menuId = Math.random().toString(36).substring(8);\n    const colorRows = [[]];\n    for (let i = 0, rowI = 0; i < colors.length; i++) {\n        if (i % colorsPerRow === 0) {\n            rowI++;\n            colorRows[rowI] = [];\n        }\n        colorRows[rowI].push(colors[i]);\n    }\n\n    const handleOpen = (ev) => {\n        setAnchorEl(ev.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                onClick={handleOpen}\n                aria-controls={menuId}\n                aria-haspopup=\"true\"\n                badgeColor={selectedColor ? selectedColor.color : null}\n                {...rest}>\n                {children}\n            </ButtonControl>\n            <Popover\n                id={menuId}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                }}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}>\n                <React.Fragment>\n                    <Button\n                        startIcon={<FormatColorResetIcon />}\n                        fullWidth\n                        color=\"secondary\"\n                        onClick={() => {\n                            handleClose();\n                            onSelectColor(null);\n                        }}>\n                        None\n                    </Button>\n                    {colorRows.map((colorRow, colorRowI) => (\n                        <div key={`color-row-${colorRowI}`} className={classes.colorRow}>\n                            {colorRow.map((colorData) => (\n                                <Tooltip key={colorData.value} title={colorData.text}>\n                                    <div\n                                        onClick={() => {\n                                            handleClose();\n                                            onSelectColor(colorData);\n                                        }}\n                                        className={classes.colorItem}\n                                        style={{\n                                            backgroundColor: colorData.color,\n                                        }}>\n                                        {selectedColor &&\n                                            colorData.value === selectedColor.value ? (\n                                            <CheckIcon\n                                                style={{\n                                                    color:\n                                                        isLightOrDark(colorData.color) === 'dark'\n                                                            ? '#fff'\n                                                            : '#000',\n                                                }}\n                                            />\n                                        ) : null}\n                                    </div>\n                                </Tooltip>\n                            ))}\n                        </div>\n                    ))}\n                </React.Fragment>\n            </Popover>\n        </React.Fragment>\n    );\n}\n\nColorSelectorControl.propTypes = {\n    selectedColor: PropTypes.object,\n    onSelectColor: PropTypes.func.isRequired,\n    colors: PropTypes.array.isRequired,\n    colorsPerRow: PropTypes.number,\n    children: PropTypes.any,\n};\n\nexport default ColorSelectorControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ColorSelectorControl from '../core/ColorSelectorControl';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport {\n    getCurrentMappedInlineStyle,\n    toggleMappedInlineStyle,\n} from '../../../utils/editorStateUtils';\n\nfunction ToggleInlineStyleColorSelectorControl({\n    configuration,\n    defaultConfiguration,\n    pluginData,\n    colorCssProp,\n    inlineStyle,\n    text,\n    children,\n}) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedColor, setSelectedColor] = React.useState(null);\n    const options = configuration.options || defaultConfiguration.options;\n\n    React.useEffect(() => {\n        const selectededInlineStyle = getCurrentMappedInlineStyle(\n            editor.editorState,\n            Object.keys(pluginData.customStyleMap),\n            null\n        );\n        setSelectedColor(\n            selectededInlineStyle && pluginData.customStyleMap[selectededInlineStyle]\n                ? {\n                      color: pluginData.customStyleMap[selectededInlineStyle][colorCssProp],\n                      value: selectededInlineStyle,\n                  }\n                : null\n        );\n    }, [editor.editorState, pluginData.customStyleMap, colorCssProp]);\n\n    const handleSelectColor = (selectedColorData) => {\n        setSelectedColor(selectedColorData);\n        const newEditorState = toggleMappedInlineStyle(\n            editor.editorState,\n            Object.keys(pluginData.customStyleMap),\n            selectedColorData ? selectedColorData.value : ''\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <ColorSelectorControl\n            text={text}\n            onSelectColor={handleSelectColor}\n            selectedColor={selectedColor}\n            colorsPerRow={configuration.colorsPerRow || defaultConfiguration.colorsPerRow}\n            disabled={editor.editorState.getSelection().isCollapsed()}\n            colors={options.map((option) => ({\n                text: option.text,\n                color: option.value,\n                value: `${inlineStyle}-${option.value}`,\n            }))}>\n            {children}\n        </ColorSelectorControl>\n    );\n}\n\nToggleInlineStyleColorSelectorControl.propTypes = {\n    configuration: PropTypes.object,\n    defaultConfiguration: PropTypes.object.isRequired,\n    pluginData: PropTypes.object.isRequired,\n    colorCssProp: PropTypes.string.isRequired,\n    inlineStyle: PropTypes.string.isRequired,\n    text: PropTypes.string,\n    children: PropTypes.any,\n};\n\nexport default ToggleInlineStyleColorSelectorControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport FormatColorTextIcon from '@material-ui/icons/FormatColorText';\nimport inlineStyles from '../../../types/inlineStyles';\nimport ToggleInlineStyleColorSelectorControl from '../core/ToggleInlineStyleColorSelectorControl';\n\nfunction FontColorControl({ configuration, defaultConfiguration, pluginData }) {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleColorSelectorControl\n            text={editor.translate('controls.fontColor.title')}\n            configuration={configuration}\n            defaultConfiguration={defaultConfiguration}\n            inlineStyle={inlineStyles.FONT_COLOR}\n            pluginData={pluginData}\n            colorCssProp=\"color\">\n            <FormatColorTextIcon />\n        </ToggleInlineStyleColorSelectorControl>\n    );\n}\n\nFontColorControl.propTypes = {\n    configuration: PropTypes.object,\n    defaultConfiguration: PropTypes.object.isRequired,\n    pluginData: PropTypes.object.isRequired,\n};\n\nexport default FontColorControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontColorPlugin = (configuration, defaultConfiguration) => {\n    const fontColors = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontColor of fontColors) {\n        customStyleMap[`${inlineStyles.FONT_COLOR}-${fontColor.value}`] = {\n            color: fontColor.value,\n        };\n    }\n    return { customStyleMap };\n};\n\nexport default fontColorPlugin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport inlineStyles from '../../../types/inlineStyles';\nimport ToggleInlineStyleColorSelectorControl from '../core/ToggleInlineStyleColorSelectorControl';\n\nfunction FontBackgroundColorControl({ configuration, defaultConfiguration, pluginData }) {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleColorSelectorControl\n            text={editor.translate('controls.fontBackgroundColor.title')}\n            configuration={configuration}\n            defaultConfiguration={defaultConfiguration}\n            inlineStyle={inlineStyles.FONT_BACKGROUND}\n            pluginData={pluginData}\n            colorCssProp=\"backgroundColor\">\n            <BorderColorIcon />\n        </ToggleInlineStyleColorSelectorControl>\n    );\n}\n\nFontBackgroundColorControl.propTypes = {\n    configuration: PropTypes.object,\n    defaultConfiguration: PropTypes.object.isRequired,\n    pluginData: PropTypes.object.isRequired,\n};\n\nexport default FontBackgroundColorControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontBackgroundColorPlugin = (configuration, defaultConfiguration) => {\n    const fontBgs = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontBg of fontBgs) {\n        customStyleMap[`${inlineStyles.FONT_BACKGROUND}-${fontBg.value}`] = {\n            backgroundColor: fontBg.value,\n        };\n    }\n    return { customStyleMap };\n};\n\nexport default fontBackgroundColorPlugin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    imgWrapper: {\n        maxWidth: '100%',\n        maxHeight: 300,\n        overflow: 'auto',\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n}));\n\nfunction ImageToUpload({ width, height, src }) {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.imgWrapper}>\n            <img alt=\"\" width={width} height={height} src={src} />\n        </div>\n    );\n}\n\nImageToUpload.propTypes = {\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    src: PropTypes.string.isRequired,\n};\n\nexport default ImageToUpload;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../../hooks/useEditor';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport LockIcon from '@material-ui/icons/Lock';\n\nfunction SizeInputs({\n    originalWidth,\n    originalHeight,\n    width,\n    height,\n    onChangeWidth,\n    onChangeHeight,\n}) {\n    const editor = useEditor();\n    const [maintainAspectRatio, setMaintainAspectRatio] = React.useState(true);\n    const aspectRatio = originalWidth / originalHeight;\n\n    const handleChangeWidth = (ev) => {\n        ev.stopPropagation();\n        const value = ev.currentTarget.value;\n        const w = value === '' || isNaN(value) ? 0 : parseInt(value);\n        onChangeWidth(w);\n        if (maintainAspectRatio) {\n            onChangeHeight(Math.round(w / aspectRatio));\n        }\n    };\n\n    const handleChangeHeight = (ev) => {\n        ev.stopPropagation();\n        const value = ev.currentTarget.value;\n        const h = value === '' || isNaN(value) ? 0 : parseInt(value);\n        onChangeHeight(h);\n        if (maintainAspectRatio) {\n            onChangeWidth(Math.round(h * aspectRatio));\n        }\n    };\n\n    const handleClickAspectRatio = () => {\n        const newMaintainAspectRatio = !maintainAspectRatio;\n        setMaintainAspectRatio(newMaintainAspectRatio);\n        if (newMaintainAspectRatio) {\n            onChangeHeight(Math.round(width / aspectRatio));\n        }\n    };\n\n    return (\n        <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"center\" spacing={2}>\n            <Grid item>\n                <TextField\n                    type=\"number\"\n                    label={editor.translate('controls.image.labels.width')}\n                    size=\"small\"\n                    value={width}\n                    onChange={handleChangeWidth}\n                    onClick={(ev) => ev.stopPropagation()}\n                    style={{ maxWidth: 90 }}\n                />\n            </Grid>\n            <Grid item>\n                <IconButton onClick={handleClickAspectRatio} size=\"small\">\n                    {maintainAspectRatio ? <LockIcon /> : <LockOpenIcon />}\n                </IconButton>\n            </Grid>\n            <Grid item>\n                <TextField\n                    type=\"number\"\n                    label={editor.translate('controls.image.labels.height')}\n                    size=\"small\"\n                    value={height}\n                    onChange={handleChangeHeight}\n                    onClick={(ev) => ev.stopPropagation()}\n                    style={{ maxWidth: 90 }}\n                />\n            </Grid>\n        </Grid>\n    );\n}\n\nSizeInputs.propTypes = {\n    originalWidth: PropTypes.number.isRequired,\n    originalHeight: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    onChangeWidth: PropTypes.func.isRequired,\n    onChangeHeight: PropTypes.func.isRequired,\n};\n\nexport default SizeInputs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../hooks/useEditor';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport ImageToUpload from './image/ImageToUpload';\nimport SizeInputs from './inputs/SizeInputs';\n\nfunction ByUrlDialog({ open, onClose, onSubmit }) {\n    const editor = useEditor();\n    const [imageURL, setImageURL] = React.useState('');\n    const [imageWidth, setImageWidth] = React.useState(0);\n    const [imageOriginalWidth, setImageOriginalWidth] = React.useState(0);\n    const [imageHeight, setImageHeight] = React.useState(0);\n    const [imageOriginalHeight, setImageOriginalHeight] = React.useState(0);\n    const [isUploading, setIsUploading] = React.useState(false);\n    const [isValidImage, setIsValidImage] = React.useState(false);\n    const [hasError, setHasError] = React.useState(false);\n    const [changeTimeout, setChangeTimeout] = React.useState(null);\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        onSubmit({ imageURL, imageWidth, imageHeight });\n    };\n\n    const resetForm = () => {\n        setIsValidImage(false);\n        setImageURL('');\n    };\n\n    const handleURLChange = (url) => {\n        setImageURL(url);\n        if (changeTimeout) {\n            clearTimeout(changeTimeout);\n            setChangeTimeout(null);\n        }\n\n        if (url === '') {\n            setHasError(false);\n            setIsValidImage(false);\n            return;\n        }\n\n        const to = setTimeout(() => {\n            setIsUploading(true);\n            // eslint-disable-next-line no-undef\n            const image = new Image();\n            image.onload = function () {\n                setImageWidth(this.width);\n                setImageOriginalWidth(this.width);\n                setImageHeight(this.height);\n                setImageOriginalHeight(this.height);\n                setIsUploading(false);\n                setIsValidImage(true);\n                setHasError(false);\n            };\n            image.onerror = function () {\n                setIsUploading(false);\n                setIsValidImage(false);\n                setHasError(true);\n            };\n            image.src = url;\n            setChangeTimeout(null);\n        }, 1000);\n        setChangeTimeout(to);\n    };\n\n    let content = null;\n\n    if (isUploading) content = <CircularProgress />;\n    else if (isValidImage && imageURL)\n        content = <ImageToUpload src={imageURL} height={imageHeight} width={imageWidth} />;\n    else if (hasError && !isValidImage && imageURL)\n        content = (\n            <Typography variant=\"subtitle1\" color=\"error\" gutterBottom>\n                {editor.translate('controls.image.errorMessages.notValidImage')}\n            </Typography>\n        );\n\n    return (\n        <Dialog open={open} onClose={onClose} onEnter={resetForm}>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    {isValidImage && imageURL !== '' && (\n                        <SizeInputs\n                            width={imageWidth}\n                            onChangeHeight={setImageHeight}\n                            height={imageHeight}\n                            originalWidth={imageOriginalWidth}\n                            originalHeight={imageOriginalHeight}\n                            onChangeWidth={setImageWidth}\n                        />\n                    )}\n                    <Grid container alignItems=\"center\" justify=\"center\">\n                        {content}\n                    </Grid>\n                    <TextField\n                        autoFocus\n                        label={editor.translate('controls.image.labels.url')}\n                        value={imageURL}\n                        onChange={(ev) => handleURLChange(ev.currentTarget.value)}\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button type=\"button\" onClick={onClose} color=\"primary\">\n                        {editor.translate('controls.image.actions.cancel')}\n                    </Button>\n                    <Button type=\"submit\" color=\"primary\" disabled={!isValidImage}>\n                        {editor.translate('controls.image.actions.add')}\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n}\n\nByUrlDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n};\n\nexport default ByUrlDialog;\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../hooks/useEditor';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SizeInputs from './inputs/SizeInputs';\nimport ImageToUpload from './image/ImageToUpload';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    dropArea: ({ highlightDropArea }) => ({\n        width: 500,\n        height: 300,\n        boxSizing: 'border-box',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: 2,//theme.spacing(2),\n        marginTop: 1,//theme.spacing(1),\n        marginBottom: 2,//theme.spacing(2),\n        borderRadius: 4,//theme.shape.borderRadius || 4,\n        backgroundColor: highlightDropArea\n            ? '#bdbdbd'\n            : '#eeeeee',\n        // ? theme.palette.grey[400] || '#bdbdbd'\n        // : theme.palette.grey[200] || '#eeeeee',\n        border: highlightDropArea\n            ? 'solid 3px #757575'\n            : 'dashed 3px #bdbdbd',\n        // ? `solid 3px ${theme.palette.grey[600] || '#757575'}`\n        // : `dashed 3px ${theme.palette.grey[400] || '#bdbdbd'}`,\n        color: 'rgba(0, 0, 0, 0.38)',//theme.palette.text.hint || 'rgba(0, 0, 0, 0.38)',\n        cursor: 'pointer',\n    }),\n}));\n\nfunction UploadDialog({ open, onClose, onSubmit, uploadCallback }) {\n    const editor = useEditor();\n    const [imageURL, setImageURL] = React.useState('');\n    const [imageWidth, setImageWidth] = React.useState(0);\n    const [imageOriginalWidth, setImageOriginalWidth] = React.useState(0);\n    const [imageHeight, setImageHeight] = React.useState(0);\n    const [imageOriginalHeight, setImageOriginalHeight] = React.useState(0);\n    const [isUploading, setIsUploading] = React.useState(false);\n    const [isValidImage, setIsValidImage] = React.useState(false);\n    const [hasError, setHasError] = React.useState(false);\n    const [errorMessage, setErrorMessage] = React.useState(null);\n    const [highlightDropArea, setHighlightDropArea] = React.useState(false);\n    const inputFileRef = React.createRef();\n    const classes = useStyles({ highlightDropArea });\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        onSubmit({ imageURL, imageWidth, imageHeight });\n    };\n\n    const handleClickDropArea = (ev) => {\n        ev.preventDefault();\n        inputFileRef.current.click();\n    };\n\n    const handleDragEnter = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        setHighlightDropArea(true);\n    };\n\n    const handleDragLeave = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        setHighlightDropArea(false);\n    };\n\n    const handleDragOver = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        setHighlightDropArea(true);\n    };\n\n    const handleDrop = async (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const files = ev.dataTransfer.files;\n        if (files.length > 0) await onSelectFile(files[0]);\n    };\n\n    const handleInputFileChange = async () => {\n        const files = inputFileRef.current.files;\n        if (files.length > 0) await onSelectFile(files[0]);\n    };\n\n    const onSelectFile = async (file) => {\n        setHighlightDropArea(false);\n        setIsUploading(true);\n        try {\n            const selectedImageUrl = await uploadCallback(file);\n            setImageURL(selectedImageUrl);\n            const image = new Image();\n            image.onload = function () {\n                setImageWidth(this.width);\n                setImageOriginalWidth(this.width);\n                setImageHeight(this.height);\n                setImageOriginalHeight(this.height);\n                setIsUploading(false);\n                setIsValidImage(true);\n                setHasError(false);\n            };\n            image.onerror = function () {\n                setIsUploading(false);\n                setIsValidImage(false);\n                setHasError(true);\n                setErrorMessage(null);\n            };\n            image.src = selectedImageUrl;\n        } catch (e) {\n            setIsUploading(false);\n            setIsValidImage(false);\n            setHasError(true);\n            setErrorMessage(e);\n        }\n    };\n\n    const resetForm = () => {\n        setImageURL('');\n        setIsValidImage(false);\n        setIsUploading(false);\n        setHighlightDropArea(false);\n    };\n\n    let dropAreaContent = (\n        <Typography variant=\"subtitle1\">\n            {editor.translate('controls.image.labels.dropImageHere')}\n        </Typography>\n    );\n\n    if (isUploading) {\n        dropAreaContent = <CircularProgress />;\n    } else if (isValidImage && imageURL) {\n        dropAreaContent = <ImageToUpload src={imageURL} height={imageHeight} width={imageWidth} />;\n    }\n\n    return (\n        <Dialog open={open} onClose={onClose} onEnter={resetForm}>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    <input\n                        ref={inputFileRef}\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleInputFileChange}\n                        style={{ display: 'none' }}\n                    />\n                    {isValidImage && imageURL !== '' && (\n                        <SizeInputs\n                            originalWidth={imageOriginalWidth}\n                            originalHeight={imageOriginalHeight}\n                            width={imageWidth}\n                            height={imageHeight}\n                            onChangeWidth={setImageWidth}\n                            onChangeHeight={setImageHeight}\n                        />\n                    )}\n\n                    {hasError && !isValidImage && (\n                        <Typography variant=\"subtitle1\" color=\"error\" align=\"center\" gutterBottom>\n                            {errorMessage !== null\n                                ? errorMessage\n                                : editor.translate('controls.image.errorMessages.notValidImage')}\n                        </Typography>\n                    )}\n\n                    <div\n                        className={classes.dropArea}\n                        onClick={handleClickDropArea}\n                        onDragEnter={handleDragEnter}\n                        onDragLeave={handleDragLeave}\n                        onDragOver={handleDragOver}\n                        onDrop={handleDrop}>\n                        {dropAreaContent}\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button type=\"button\" onClick={onClose} color=\"primary\">\n                        {editor.translate('controls.image.actions.cancel')}\n                    </Button>\n                    <Button type=\"submit\" color=\"primary\" disabled={!isValidImage}>\n                        {editor.translate('controls.image.actions.add')}\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n}\n\nUploadDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    uploadCallback: PropTypes.func.isRequired,\n};\n\nexport default UploadDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../hooks/useEditor';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport SizeInputs from './inputs/SizeInputs';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport ImageToUpload from './image/ImageToUpload';\n\nfunction ResizeImageDialog({ open, onClose, src, originalWidth, originalHeight, onSave }) {\n    const [width, setWidth] = React.useState(0);\n    const [height, setHeight] = React.useState(0);\n    const editor = useEditor();\n\n    React.useEffect(() => {\n        setWidth(originalWidth);\n        setHeight(originalHeight);\n    }, [originalWidth, originalHeight]);\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        onSave(width, height);\n    };\n\n    return (\n        <Dialog open={open} onClose={onClose}>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    <SizeInputs\n                        width={width}\n                        height={height}\n                        onChangeWidth={setWidth}\n                        onChangeHeight={setHeight}\n                        originalWidth={originalWidth}\n                        originalHeight={originalHeight}\n                    />\n                    <Grid container alignItems=\"center\" justify=\"center\">\n                        <ImageToUpload src={src} width={width} height={height} />\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button type=\"button\" onClick={() => onClose()}>\n                        {editor.translate('controls.image.actions.cancel')}\n                    </Button>\n                    <Button type=\"submit\">\n                        {editor.translate('controls.image.actions.resize')}\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n}\n\nResizeImageDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    src: PropTypes.string.isRequired,\n    originalWidth: PropTypes.number.isRequired,\n    originalHeight: PropTypes.number.isRequired,\n    onSave: PropTypes.func.isRequired,\n};\n\nexport default ResizeImageDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport ButtonControl from '../core/ButtonControl';\nimport ImageIcon from '@material-ui/icons/Image';\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport LinkIcon from '@material-ui/icons/Link';\nimport entities from '../../../types/entities';\nimport { EditorState, AtomicBlockUtils } from 'draft-js';\nimport ByUrlDialog from './dialogs/ByURLDialog';\nimport UploadDialog from './dialogs/UploadDialog';\nimport ResizeImageDialog from './dialogs/ResizeImageDialog';\n\nfunction ImageControl({ configuration, defaultConfiguration }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const menuId = Math.random().toString(36).substring(8);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [isUploadDialogOpened, setIsUploadDialogOpened] = React.useState(false);\n    const [isUrlDialogOpened, setIsUrlDialogOpened] = React.useState(false);\n    const uploadCallback = configuration.uploadCallback || defaultConfiguration.uploadCallback;\n\n    const imageEntityToResize = editor.resizeImageEntityKey\n        ? editor.editorState.getCurrentContent().getEntity(editor.resizeImageEntityKey)\n        : null;\n\n    const handleSubmitImage = ({ imageURL, imageWidth, imageHeight }) => {\n        if (imageURL === '') return;\n        setIsUrlDialogOpened(false);\n        setIsUploadDialogOpened(false);\n\n        const contentState = editor.editorState.getCurrentContent();\n        const contentStateWithEntity = contentState.createEntity(entities.IMAGE, 'IMMUTABLE', {\n            src: imageURL,\n            width: imageWidth,\n            height: imageHeight,\n        });\n        const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n        const newEditorState = EditorState.push(\n            editor.editorState,\n            contentStateWithEntity,\n            'apply-entity'\n        );\n        editor.onChange(AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, ' '));\n        editorFocus();\n    };\n\n    const handleResizeImage = (width, height) => {\n        editor.hideResizeImageDialog();\n        const contentState = editor.editorState.getCurrentContent();\n        const newEditorState = EditorState.push(\n            editor.editorState,\n            contentState.mergeEntityData(editor.resizeImageEntityKey, { width, height }),\n            'apply-entity'\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                onClick={(ev) => setAnchorEl(ev.currentTarget)}\n                text={editor.translate('controls.image.title')}\n                aria-controls={menuId}\n                aria-haspopup=\"true\">\n                <ImageIcon />\n            </ButtonControl>\n\n            <Popover\n                id={menuId}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                }}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={() => setAnchorEl(null)}>\n                <List\n                    component=\"nav\"\n                    aria-label={editor.translate('controls.image.labels.insertOptions')}>\n                    <ListItem\n                        button\n                        onClick={() => {\n                            setIsUploadDialogOpened(true);\n                            setAnchorEl(null);\n                        }}>\n                        <ListItemIcon>\n                            <PublishIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={editor.translate('controls.image.actions.upload')} />\n                    </ListItem>\n                    <ListItem\n                        button\n                        onClick={() => {\n                            setIsUrlDialogOpened(true);\n                            setAnchorEl(null);\n                        }}>\n                        <ListItemIcon>\n                            <LinkIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={editor.translate('controls.image.actions.url')} />\n                    </ListItem>\n                </List>\n            </Popover>\n\n            <ByUrlDialog\n                onSubmit={handleSubmitImage}\n                onClose={() => setIsUrlDialogOpened(false)}\n                open={isUrlDialogOpened}\n            />\n\n            <UploadDialog\n                onSubmit={handleSubmitImage}\n                onClose={() => setIsUploadDialogOpened(false)}\n                open={isUploadDialogOpened}\n                uploadCallback={uploadCallback}\n            />\n\n            <ResizeImageDialog\n                open={editor.isResizeImageDialogVisible}\n                onClose={() => editor.hideResizeImageDialog()}\n                src={imageEntityToResize ? imageEntityToResize.getData().src : ''}\n                originalWidth={imageEntityToResize ? imageEntityToResize.getData().width : 0}\n                originalHeight={imageEntityToResize ? imageEntityToResize.getData().height : 0}\n                onSave={handleResizeImage}\n            />\n        </React.Fragment>\n    );\n}\n\nImageControl.propTypes = {\n    configuration: PropTypes.object.isRequired,\n    defaultConfiguration: PropTypes.object.isRequired,\n};\n\nexport default ImageControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport entities from '../../../types/entities';\nimport blockStyles from '../../../types/blockStyles';\nimport { EditorState, Modifier, SelectionState } from 'draft-js';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport Popover from '@material-ui/core/Popover';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport ImageIcon from '@material-ui/icons/Image';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport PhotoSizeSelectLargeIcon from '@material-ui/icons/PhotoSizeSelectLarge';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { makeStyles } from '@material-ui/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst EditorMedia = ({ contentState, block }) => {\n    const entity = contentState.getEntity(block.getEntityAt(0));\n    const type = entity.getType();\n\n    if (type === entities.IMAGE) {\n        const { src, width = 'auto', height = 'auto' } = entity.getData();\n        return (\n            <EditorImage\n                src={src}\n                width={width}\n                height={height}\n                block={block}\n                contentState={contentState}\n            />\n        );\n    }\n\n    return null;\n};\n\nEditorMedia.propTypes = {\n    contentState: PropTypes.object.isRequired,\n    block: PropTypes.object.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n    imgInfo: {\n        padding: 0.6//theme.spacing(0.6),\n    },\n}));\n\nconst EditorImage = ({ src, width, height, contentState, block }) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [infoAnchorEl, setInfoAnchorEl] = React.useState(null);\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const classes = useStyles();\n\n    const showOptions = (ev) => {\n        setAnchorEl(ev.currentTarget);\n        setInfoAnchorEl(ev.currentTarget);\n    };\n\n    const hideOptions = () => {\n        setAnchorEl(null);\n        setInfoAnchorEl(null);\n    };\n\n    const imageAlign = (ev, align) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const imageSelection = SelectionState.createEmpty(block.getKey()).merge({\n            anchorKey: block.getKey(),\n            anchorOffset: 0,\n            focusKey: block.getKey(),\n            focusOffset: block.getLength(),\n        });\n\n        const newContentState = Modifier.setBlockData(contentState, imageSelection, {\n            textAlign: align,\n        });\n        editor.onChange(EditorState.push(editor.editorState, newContentState, 'change-block-data'));\n        editorFocus();\n    };\n\n    const removeImage = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const imageSelection = SelectionState.createEmpty(block.getKey()).merge({\n            anchorKey: block.getKey(),\n            anchorOffset: 0,\n            focusKey: block.getKey(),\n            focusOffset: block.getLength(),\n        });\n\n        let newContentState = Modifier.removeRange(contentState, imageSelection, 'forward');\n\n        const blockMap = newContentState.getBlockMap().delete(block.getKey());\n\n        const firstBlock = newContentState.getFirstBlock();\n\n        const selectionToStart = SelectionState.createEmpty(firstBlock.getKey()).merge({\n            anchorKey: firstBlock.getKey(),\n            anchorOffset: 0,\n            focusKey: firstBlock.getKey(),\n            focusOffset: 0,\n        });\n\n        newContentState = newContentState.merge({ blockMap, selectionAfter: selectionToStart });\n\n        editor.onChange(EditorState.push(editor.editorState, newContentState, 'remove-range'));\n        editorFocus();\n    };\n\n    if (!src) return null;\n\n    return (\n        <React.Fragment>\n            <img alt={src} src={src} width={width} height={height} onClick={showOptions} />\n            <Popover\n                open={Boolean(infoAnchorEl)}\n                onClose={hideOptions}\n                anchorEl={infoAnchorEl}\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                transformOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                }}>\n                <Typography color=\"textSecondary\" variant=\"body1\" className={classes.imgInfo}>\n                    {width}&nbsp;x&nbsp;{height}\n                </Typography>\n            </Popover>\n            <Popover\n                open={Boolean(anchorEl)}\n                onClose={hideOptions}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}>\n                <ButtonGroup\n                    size=\"small\"\n                    aria-label={editor.translate('controls.image.labels.editOptions')}>\n                    <Button\n                        onClick={(ev) => imageAlign(ev, 'left')}\n                        title={editor.translate('controls.image.actions.alignLeft')}>\n                        <ArrowLeftIcon />\n                        <ImageIcon />\n                    </Button>\n                    <Button\n                        onClick={(ev) => imageAlign(ev, 'center')}\n                        title={editor.translate('controls.image.actions.alignCenter')}>\n                        <ArrowLeftIcon />\n                        <ImageIcon />\n                        <ArrowRightIcon />\n                    </Button>\n                    <Button\n                        onClick={(ev) => imageAlign(ev, 'right')}\n                        title={editor.translate('controls.image.actions.alignRight')}>\n                        <ImageIcon />\n                        <ArrowRightIcon />\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            hideOptions();\n                            editor.showResizeImageDialog(block.getEntityAt(0));\n                        }}\n                        title={editor.translate('controls.image.actions.resize')}>\n                        <PhotoSizeSelectLargeIcon />\n                    </Button>\n                    <Button\n                        onClick={removeImage}\n                        title={editor.translate('controls.image.actions.remove')}>\n                        <DeleteIcon />\n                    </Button>\n                </ButtonGroup>\n            </Popover>\n        </React.Fragment>\n    );\n};\n\nEditorImage.propTypes = {\n    src: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    contentState: PropTypes.object.isRequired,\n    block: PropTypes.object.isRequired,\n};\n\nconst imagePlugin = () => ({\n    blockRendererFn: (block) => {\n        if (block.getType() === blockStyles.ATOMIC) {\n            return {\n                component: EditorMedia,\n                editable: false,\n            };\n        }\n    },\n});\n\nexport default imagePlugin;\n","export const fileToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n        // eslint-disable-next-line no-undef\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n};\n","import DividerControl from '../EditorToolbar/controls/DividerControl';\nimport UndoControl from '../EditorToolbar/controls/UndoControl';\nimport RedoControl from '../EditorToolbar/controls/RedoControl';\nimport BoldControl from '../EditorToolbar/controls/BoldControl';\nimport ItalicControl from '../EditorToolbar/controls/ItalicControl';\nimport UnderlineControl from '../EditorToolbar/controls/UnderlineControl';\nimport StrikethroughControl from '../EditorToolbar/controls/StrikethroughControl';\nimport LinkAddControl from '../EditorToolbar/controls/LinkAddControl';\nimport linkAddPlugin from '../EditorToolbar/controls/LinkAddControl/plugin';\nimport LinkRemoveControl from '../EditorToolbar/controls/LinkRemoveControl';\nimport BlockTypeControl from '../EditorToolbar/controls/BlockTypeControl';\nimport UnorderedListControl from '../EditorToolbar/controls/UnorderedListControl';\nimport OrderedListControl from '../EditorToolbar/controls/OrderedListControl';\nimport FontFamilyControl from '../EditorToolbar/controls/FontFamilyControl';\nimport fontFamilyPlugin from '../EditorToolbar/controls/FontFamilyControl/plugin';\nimport TextAlignControl from '../EditorToolbar/controls/TextAlignControl';\nimport textAlignPlugin from '../EditorToolbar/controls/TextAlignControl/plugin';\nimport FontSizeControl from '../EditorToolbar/controls/FontSizeControl';\nimport fontSizePlugin from '../EditorToolbar/controls/FontSizeControl/plugin';\nimport FontColorControl from '../EditorToolbar/controls/FontColorControl';\nimport fontColorPlugin from '../EditorToolbar/controls/FontColorControl/plugin';\nimport FontBackgroundColorControl from '../EditorToolbar/controls/FontBackgroundColorControl';\nimport fontBackgroundColorPlugin from '../EditorToolbar/controls/FontBackgroundColorControl/plugin';\nimport ImageControl from '../EditorToolbar/controls/ImageControl';\nimport imagePlugin from '../EditorToolbar/controls/ImageControl/plugin';\nimport { fileToBase64 } from '../utils/fileUtils';\nimport { LANG_PREFIX } from './lang';\n\nexport const toolbarControlTypes = {\n    divider: {\n        name: 'divider',\n        component: DividerControl,\n    },\n    undo: {\n        name: 'undo',\n        component: UndoControl,\n    },\n    redo: {\n        name: 'undo',\n        component: RedoControl,\n    },\n    bold: {\n        name: 'bold',\n        component: BoldControl,\n    },\n    italic: {\n        name: 'italic',\n        component: ItalicControl,\n    },\n    underline: {\n        name: 'underline',\n        component: UnderlineControl,\n    },\n    strikethrough: {\n        name: 'strikethrough',\n        component: StrikethroughControl,\n    },\n    fontColor: {\n        name: 'fontColor',\n        component: FontColorControl,\n        plugin: fontColorPlugin,\n    },\n    fontBackgroundColor: {\n        name: 'fontBackgroundColor',\n        component: FontBackgroundColorControl,\n        plugin: fontBackgroundColorPlugin,\n    },\n    linkAdd: {\n        name: 'linkAdd',\n        component: LinkAddControl,\n        plugin: linkAddPlugin,\n    },\n    linkRemove: {\n        name: 'linkRemove',\n        component: LinkRemoveControl,\n    },\n    image: {\n        name: 'image',\n        component: ImageControl,\n        plugin: imagePlugin,\n    },\n    blockType: {\n        name: 'blockType',\n        component: BlockTypeControl,\n    },\n    fontSize: {\n        name: 'fontSize',\n        component: FontSizeControl,\n        plugin: fontSizePlugin,\n    },\n    fontFamily: {\n        name: 'fontFamily',\n        component: FontFamilyControl,\n        plugin: fontFamilyPlugin,\n    },\n    textAlign: {\n        name: 'textAlign',\n        component: TextAlignControl,\n        plugin: textAlignPlugin,\n    },\n    unorderedList: {\n        name: 'unorderedList',\n        component: UnorderedListControl,\n    },\n    orderedList: {\n        name: 'orderedList',\n        component: OrderedListControl,\n    },\n};\n\nexport const defaultToolbarControls = [\n    toolbarControlTypes.undo,\n    toolbarControlTypes.redo,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.bold,\n    toolbarControlTypes.italic,\n    toolbarControlTypes.underline,\n    toolbarControlTypes.strikethrough,\n    toolbarControlTypes.fontColor,\n    toolbarControlTypes.fontBackgroundColor,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.linkAdd,\n    toolbarControlTypes.linkRemove,\n    toolbarControlTypes.image,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.blockType,\n    toolbarControlTypes.fontSize,\n    toolbarControlTypes.fontFamily,\n    toolbarControlTypes.textAlign,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.unorderedList,\n    toolbarControlTypes.orderedList,\n];\n\nconst colors = [\n    { text: 'black', value: 'rgb(0, 0, 0)' },\n    { text: 'dark grey 4', value: 'rgb(67, 67, 67)' },\n    { text: 'dark grey 3', value: 'rgb(102, 102, 102)' },\n    { text: 'dark grey 2', value: 'rgb(153, 153, 153)' },\n    { text: 'dark grey 1', value: 'rgb(183, 183, 183)' },\n    { text: 'grey', value: 'rgb(204, 204, 204)' },\n    { text: 'light grey 1', value: 'rgb(217, 217, 217)' },\n    { text: 'light grey 2', value: 'rgb(239, 239, 239)' },\n    { text: 'light grey 3', value: 'rgb(243, 243, 243)' },\n    { text: 'white', value: 'rgb(255, 255, 255)' },\n    { text: 'Red berry', value: 'rgb(152, 0, 0)' },\n    { text: 'red', value: 'rgb(255, 0, 0)' },\n    { text: 'orange', value: 'rgb(255, 153, 0)' },\n    { text: 'yellow', value: 'rgb(255, 255, 0)' },\n    { text: 'green', value: 'rgb(0, 255, 0)' },\n    { text: 'cyan', value: 'rgb(0, 255, 255)' },\n    { text: 'cornflower blue', value: 'rgb(74, 134, 232)' },\n    { text: 'blue', value: 'rgb(0, 0, 255)' },\n    { text: 'purple', value: 'rgb(153, 0, 255)' },\n    { text: 'magenta', value: 'rgb(255, 0, 255)' },\n    { text: 'light red berry 3', value: 'rgb(230, 184, 175)' },\n    { text: 'light red 3', value: 'rgb(244, 204, 204)' },\n    { text: 'light orange 3', value: 'rgb(252, 229, 205)' },\n    { text: 'light yellow 3', value: 'rgb(255, 242, 204)' },\n    { text: 'light green 3', value: 'rgb(217, 234, 211)' },\n    { text: 'light cyan 3', value: 'rgb(208, 224, 227)' },\n    { text: 'light cornflower blue 3', value: 'rgb(201, 218, 248)' },\n    { text: 'light blue 3', value: 'rgb(207, 226, 243)' },\n    { text: 'light purple 3', value: 'rgb(217, 210, 233)' },\n    { text: 'light magenta 3', value: 'rgb(234, 209, 220)' },\n    { text: 'light red berry 2', value: 'rgb(221, 126, 107)' },\n    { text: 'light red 2', value: 'rgb(234, 153, 153)' },\n    { text: 'light orange 2', value: 'rgb(249, 203, 156)' },\n    { text: 'light yellow 2', value: 'rgb(255, 229, 153)' },\n    { text: 'light green 2', value: 'rgb(182, 215, 168)' },\n    { text: 'light cyan 2', value: 'rgb(162, 196, 201)' },\n    { text: 'light cornflower blue 2', value: 'rgb(164, 194, 244)' },\n    { text: 'light blue 2', value: 'rgb(159, 197, 232)' },\n    { text: 'light purple 2', value: 'rgb(180, 167, 214)' },\n    { text: 'light magenta 2', value: 'rgb(213, 166, 189)' },\n    { text: 'light red berry 1', value: 'rgb(204, 65, 37)' },\n    { text: 'light red 1', value: 'rgb(224, 102, 102)' },\n    { text: 'light orange 1', value: 'rgb(246, 178, 107)' },\n    { text: 'light yellow 1', value: 'rgb(255, 217, 102)' },\n    { text: 'light green 1', value: 'rgb(147, 196, 125)' },\n    { text: 'light cyan 1', value: 'rgb(118, 165, 175)' },\n    { text: 'light cornflower blue 1', value: 'rgb(109, 158, 235)' },\n    { text: 'light blue 1', value: 'rgb(111, 168, 220)' },\n    { text: 'light purple 1', value: 'rgb(142, 124, 195)' },\n    { text: 'light magenta 1', value: 'rgb(194, 123, 160)' },\n    { text: 'dark red berry 1', value: 'rgb(166, 28, 0)' },\n    { text: 'dark red 1', value: 'rgb(204, 0, 0)' },\n    { text: 'dark orange 1', value: 'rgb(230, 145, 56)' },\n    { text: 'dark yellow 1', value: 'rgb(241, 194, 50)' },\n    { text: 'dark green 1', value: 'rgb(106, 168, 79)' },\n    { text: 'dark cyan 1', value: 'rgb(69, 129, 142)' },\n    { text: 'dark cornflower blue 1', value: 'rgb(60, 120, 216)' },\n    { text: 'dark blue 1', value: 'rgb(61, 133, 198)' },\n    { text: 'dark purple 1', value: 'rgb(103, 78, 167)' },\n    { text: 'dark magenta 1', value: 'rgb(166, 77, 121)' },\n    { text: 'dark red berry 2', value: 'rgb(133, 32, 12)' },\n    { text: 'dark red 2', value: 'rgb(153, 0, 0)' },\n    { text: 'dark orange 2', value: 'rgb(180, 95, 6)' },\n    { text: 'dark yellow 2', value: 'rgb(191, 144, 0)' },\n    { text: 'dark green 2', value: 'rgb(56, 118, 29)' },\n    { text: 'dark cyan 2', value: 'rgb(19, 79, 92)' },\n    { text: 'dark cornflower blue 2', value: 'rgb(17, 85, 204)' },\n    { text: 'dark blue 2', value: 'rgb(11, 83, 148)' },\n    { text: 'dark purple 2', value: 'rgb(53, 28, 117)' },\n    { text: 'dark magenta 2', value: 'rgb(116, 27, 71)' },\n    { text: 'dark red berry 3', value: 'rgb(91, 15, 0)' },\n    { text: 'dark red 3', value: 'rgb(102, 0, 0)' },\n    { text: 'dark orange 3', value: 'rgb(120, 63, 4)' },\n    { text: 'dark yellow 3', value: 'rgb(127, 96, 0)' },\n    { text: 'dark green 3', value: 'rgb(39, 78, 19)' },\n    { text: 'dark cyan 3', value: 'rgb(12, 52, 61)' },\n    { text: 'dark cornflower blue 3', value: 'rgb(28, 69, 135)' },\n    { text: 'dark blue 3', value: 'rgb(7, 55, 99)' },\n    { text: 'dark purple 3', value: 'rgb(32, 18, 77)' },\n    { text: 'dark magenta 3', value: 'rgb(76, 17, 48)' },\n];\n\nexport const defaultToolbarControlsConfiguration = {\n    blockType: {\n        options: [\n            {\n                value: 'default',\n                text: LANG_PREFIX + 'controls.blockType.labels.normal',\n            },\n            {\n                value: 'header-one',\n                text: LANG_PREFIX + 'controls.blockType.labels.header1',\n            },\n            {\n                value: 'header-two',\n                text: LANG_PREFIX + 'controls.blockType.labels.header2',\n            },\n            {\n                value: 'header-three',\n                text: LANG_PREFIX + 'controls.blockType.labels.header3',\n            },\n            {\n                value: 'header-four',\n                text: LANG_PREFIX + 'controls.blockType.labels.header4',\n            },\n            {\n                value: 'header-five',\n                text: LANG_PREFIX + 'controls.blockType.labels.header5',\n            },\n            {\n                value: 'header-six',\n                text: LANG_PREFIX + 'controls.blockType.labels.header6',\n            },\n        ],\n    },\n    image: {\n        uploadCallback: fileToBase64,\n    },\n    fontColor: {\n        colorsPerRow: 10,\n        options: colors,\n    },\n    fontBackgroundColor: {\n        colorsPerRow: 10,\n        options: colors,\n    },\n    fontSize: {\n        options: [\n            'default',\n            '8px',\n            '9px',\n            '10px',\n            '11px',\n            '12px',\n            '14px',\n            '18px',\n            '24px',\n            '30px',\n            '36px',\n            '48px',\n            '60px',\n            '72px',\n            '96px',\n        ],\n    },\n    fontFamily: {\n        options: [\n            'default',\n            'Arial',\n            'Verdana',\n            'Times New Roman',\n            'Georgia',\n            'Courier new',\n            'Lucida Console',\n        ],\n    },\n};\n","import { defaultToolbarControls, defaultToolbarControlsConfiguration } from './editorToolbar';\nimport Paper from '@material-ui/core/Paper';\n\nexport const defaultConfig = {\n    lang: 'en',\n    translations: {},\n    draftEditor: {},\n    editor: {\n        wrapperElement: Paper,\n        className: '',\n        style: {},\n    },\n    toolbar: {\n        className: '',\n        style: {},\n        visible: true,\n        position: 'top',\n        controls: defaultToolbarControls,\n        controlsConfig: defaultToolbarControlsConfiguration,\n    },\n};\n","/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nexport function isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\n\n/**\n * Deep merge two objects.\n * @param target\n * @param sources\n */\nexport function mergeDeep(target, ...sources) {\n    if (!sources.length) return target;\n    const source = sources.shift();\n\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            // noinspection JSUnfilteredForInLoop\n            if (isObject(source[key])) {\n                // noinspection JSUnfilteredForInLoop\n                if (!target[key]) {\n                    // noinspection JSUnfilteredForInLoop\n                    Object.assign(target, { [key]: {} });\n                }\n                // noinspection JSUnfilteredForInLoop\n                mergeDeep(target[key], source[key]);\n            } else {\n                // noinspection JSUnfilteredForInLoop\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n\n    return mergeDeep(target, ...sources);\n}\n","export default {\n    controls: {\n        undo: {\n            title: 'Desfer',\n        },\n        redo: {\n            title: 'Refer',\n        },\n        bold: {\n            title: 'Negreta',\n        },\n        italic: {\n            title: 'Cursiva',\n        },\n        underline: {\n            title: 'Subratllat',\n        },\n        strikethrough: {\n            title: 'Ratllat',\n        },\n        code: {\n            title: 'Codi',\n        },\n        fontColor: {\n            title: 'Color de font',\n            labels: {\n                noColor: 'Sense color',\n            },\n        },\n        fontBackgroundColor: {\n            title: 'Color de resaltat del text',\n            labels: {\n                noColor: 'Sense color',\n            },\n        },\n        linkAdd: {\n            title: 'Afegir enllaç',\n            labels: {\n                link: 'Enllaç',\n            },\n            actions: {\n                add: 'Afegir',\n                cancel: 'Cancel·lar',\n            },\n        },\n        linkRemove: {\n            title: 'Eliminar enllaç',\n        },\n        image: {\n            title: 'Afegir imatge',\n            actions: {\n                upload: 'Pujar imatge',\n                url: 'Des de URL',\n                add: 'Afegir',\n                cancel: 'Cancel·lar',\n                alignLeft: \"Alinear a l'esquerra\",\n                alignCenter: 'Centrar',\n                alignRight: 'Alinear a la dreta',\n                remove: 'Eliminar imatge',\n                resize: 'Redimensionar',\n            },\n            labels: {\n                dropImageHere: 'Arrossega una imatge aquí o fes click per a pujar una',\n                width: 'Ample',\n                height: 'Alt',\n                url: 'URL',\n                insertOptions: 'Opcions de afegir imatge',\n                editOptions: \"Opcions d'imatge\",\n            },\n            errorMessages: {\n                notValidImage: 'La imatge no és vàlida',\n            },\n        },\n        blockType: {\n            title: 'Format de bloc',\n            labels: {\n                normal: 'Normal',\n                header1: 'Títol 1',\n                header2: 'Títol 2',\n                header3: 'Títol 3',\n                header4: 'Títol 4',\n                header5: 'Títol 5',\n                header6: 'Títol 6',\n            },\n        },\n        fontSize: {\n            title: 'Grandària de font',\n            labels: {\n                default: 'Per defecte',\n            },\n        },\n        fontFamily: {\n            title: 'Font',\n            labels: {\n                default: 'Per defecte',\n            },\n        },\n        textAlign: {\n            title: 'Alinear text',\n            actions: {\n                alignLeft: 'Esquerra',\n                alignCenter: 'Centre',\n                alignRight: 'Dreta',\n                justify: 'Justificar',\n            },\n        },\n        unorderedList: {\n            title: 'Vinyetes',\n        },\n        orderedList: {\n            title: 'Numeració',\n        },\n    },\n};\n","export default {\n    controls: {\n        undo: {\n            title: 'Undo',\n        },\n        redo: {\n            title: 'Redo',\n        },\n        bold: {\n            title: 'Bold',\n        },\n        italic: {\n            title: 'Italic',\n        },\n        underline: {\n            title: 'Underline',\n        },\n        strikethrough: {\n            title: 'Strike through',\n        },\n        code: {\n            title: 'Code',\n        },\n        fontColor: {\n            title: 'Font color',\n            labels: {\n                noColor: 'None',\n            },\n        },\n        fontBackgroundColor: {\n            title: 'Highlight color',\n            labels: {\n                noColor: 'None',\n            },\n        },\n        linkAdd: {\n            title: 'Add link',\n            labels: {\n                link: 'Link',\n            },\n            actions: {\n                add: 'Add',\n                cancel: 'Cancel',\n            },\n        },\n        linkRemove: {\n            title: 'Remove link',\n        },\n        image: {\n            title: 'Insert image',\n            actions: {\n                upload: 'Upload image',\n                url: 'By URL',\n                add: 'Add',\n                cancel: 'Cancel',\n                alignLeft: 'Align left',\n                alignCenter: 'Align center',\n                alignRight: 'Align right',\n                remove: 'Remove image',\n                resize: 'Resize',\n            },\n            labels: {\n                dropImageHere: 'Drop image here or click to upload',\n                width: 'Width',\n                height: 'Height',\n                url: 'URL',\n                insertOptions: 'Insert image options',\n                editOptions: 'Image options',\n            },\n            errorMessages: {\n                notValidImage: 'Not a valid image',\n            },\n        },\n        blockType: {\n            title: 'Block format',\n            labels: {\n                normal: 'Normal',\n                header1: 'Header 1',\n                header2: 'Header 2',\n                header3: 'Header 3',\n                header4: 'Header 4',\n                header5: 'Header 5',\n                header6: 'Header 6',\n            },\n        },\n        fontSize: {\n            title: 'Font size',\n            labels: {\n                default: 'default',\n            },\n        },\n        fontFamily: {\n            title: 'Font type',\n            labels: {\n                default: 'default',\n            },\n        },\n        textAlign: {\n            title: 'Align text',\n            actions: {\n                alignLeft: 'Left',\n                alignCenter: 'Center',\n                alignRight: 'Right',\n                justify: 'Justify',\n            },\n        },\n        unorderedList: {\n            title: 'Unordered list',\n        },\n        orderedList: {\n            title: 'Ordered list',\n        },\n    },\n};\n","export default {\n    controls: {\n        undo: {\n            title: 'Deshacer',\n        },\n        redo: {\n            title: 'Rehacer',\n        },\n        bold: {\n            title: 'Negrita',\n        },\n        italic: {\n            title: 'Cursiva',\n        },\n        underline: {\n            title: 'Subrayado',\n        },\n        strikethrough: {\n            title: 'Tachado',\n        },\n        code: {\n            title: 'Código',\n        },\n        fontColor: {\n            title: 'Color de fuente',\n            labels: {\n                noColor: 'Sin color',\n            },\n        },\n        fontBackgroundColor: {\n            title: 'Color de resaltado de texto',\n            labels: {\n                noColor: 'Sin color',\n            },\n        },\n        linkAdd: {\n            title: 'Añadir enlace',\n            labels: {\n                link: 'Enlace',\n            },\n            actions: {\n                add: 'Añadir',\n                cancel: 'Cancelar',\n            },\n        },\n        linkRemove: {\n            title: 'Eliminar enlace',\n        },\n        image: {\n            title: 'Insertar imagen',\n            actions: {\n                upload: 'Subir imagen',\n                url: 'Desde URL',\n                add: 'Añadir',\n                cancel: 'Cancelar',\n                alignLeft: 'Alinear a la izquierda',\n                alignCenter: 'Centrar',\n                alignRight: 'Alinear a la derecha',\n                remove: 'Eliminar imagen',\n                resize: 'Redimensionar',\n            },\n            labels: {\n                dropImageHere: 'Arrastra una imagen aquí o haz click para subir una',\n                width: 'Ancho',\n                height: 'Alto',\n                url: 'URL',\n                insertOptions: 'Opciones de insertar imagen',\n                editOptions: 'Opciones de imagen',\n            },\n            errorMessages: {\n                notValidImage: 'La imagen no es válida',\n            },\n        },\n        blockType: {\n            title: 'Formato de bloque',\n            labels: {\n                normal: 'Normal',\n                header1: 'Encabezado 1',\n                header2: 'Encabezado 2',\n                header3: 'Encabezado 3',\n                header4: 'Encabezado 4',\n                header5: 'Encabezado 5',\n                header6: 'Encabezado 6',\n            },\n        },\n        fontSize: {\n            title: 'Tamaño de fuente',\n            labels: {\n                default: 'Por defecto',\n            },\n        },\n        fontFamily: {\n            title: 'Fuente',\n            labels: {\n                default: 'Por defecto',\n            },\n        },\n        textAlign: {\n            title: 'Alinear texto',\n            actions: {\n                alignLeft: 'Izquierda',\n                alignCenter: 'Centro',\n                alignRight: 'Derecha',\n                justify: 'Justificar',\n            },\n        },\n        unorderedList: {\n            title: 'Viñetas',\n        },\n        orderedList: {\n            title: 'Numeración',\n        },\n    },\n};\n","import ca from './translations/ca';\nimport en from './translations/en';\nimport es from './translations/es';\n\nexport default { ca, en, es };\n","import React from 'react';\nimport { CompositeDecorator, DefaultDraftBlockRenderMap } from 'draft-js';\nimport { defaultConfig } from '../types/config';\nimport { defaultToolbarControlsConfiguration } from '../types/editorToolbar';\nimport { mergeDeep } from './objectUtils';\nimport languages from '../lang/languages';\n\nclass EditorFactories {\n    constructor(config) {\n        this.config = config || defaultConfig;\n    }\n\n    getCompositeDecorator() {\n        let decorators = [];\n        for (const control of this.getToolbarControls()) {\n            const pluginData = this.getPluginData(control);\n            if (pluginData && pluginData.decorators) {\n                decorators = decorators.concat(pluginData.decorators);\n            }\n        }\n        return decorators.length > 0 ? new CompositeDecorator(decorators) : null;\n    }\n\n    getCustomStyleMap() {\n        let customStyleMap = {};\n        for (const control of this.getToolbarControls()) {\n            const pluginData = this.getPluginData(control);\n            if (pluginData && pluginData.customStyleMap) {\n                customStyleMap = {\n                    ...customStyleMap,\n                    ...pluginData.customStyleMap,\n                };\n            }\n        }\n        return customStyleMap;\n    }\n\n    getBlockRenderMap() {\n        let renderMap = DefaultDraftBlockRenderMap;\n        for (const control of this.getToolbarControls()) {\n            const pluginData = this.getPluginData(control);\n            if (pluginData && pluginData.blockRenderMap) {\n                renderMap = renderMap.merge(pluginData.blockRenderMap);\n            }\n        }\n\n        return renderMap;\n    }\n\n    getBlockStyleFn() {\n        return (contentBlock) => {\n            let classNames = '';\n            for (const control of this.getToolbarControls()) {\n                const pluginData = this.getPluginData(control);\n                if (pluginData && pluginData.blockStyleFn) {\n                    const result = pluginData.blockStyleFn(contentBlock);\n                    if (result) classNames += ' ' + result;\n                }\n            }\n            return classNames.trim();\n        };\n    }\n\n    getBlockRendererFn() {\n        return (contentBlock) => {\n            for (const control of this.getToolbarControls()) {\n                const pluginData = this.getPluginData(control);\n                if (!pluginData || !pluginData.blockRendererFn) continue;\n                const result = pluginData.blockRendererFn(contentBlock);\n                if (result) return result;\n            }\n        };\n    }\n\n    getToolbarControls() {\n        return this.getConfigItem('toolbar', 'controls');\n    }\n\n    getToolbarControlComponents() {\n        const keyCounter = {};\n        return this.getToolbarControls().map((control) => {\n            if (!keyCounter[control.name]) keyCounter[control.name] = 0;\n            keyCounter[control.name]++;\n\n            return React.createElement(control.component, {\n                key: `${control.name}${keyCounter[control.name]}`,\n                configuration: this.getToolbarControlConfiguration(control.name),\n                defaultConfiguration: defaultToolbarControlsConfiguration[control.name],\n                pluginData: this.getPluginData(control),\n            });\n        });\n    }\n\n    getToolbarControlConfiguration(controlName) {\n        if (\n            this.config &&\n            this.config.toolbar &&\n            this.config.toolbar.controlsConfig &&\n            this.config.toolbar.controlsConfig[controlName]\n        )\n            return this.config.toolbar.controlsConfig[controlName];\n        else if (defaultToolbarControlsConfiguration[controlName])\n            return defaultToolbarControlsConfiguration[controlName];\n\n        return null;\n    }\n\n    getPluginData(control) {\n        if (!control.plugin) return null;\n        return control.plugin(\n            this.getToolbarControlConfiguration(control.name),\n            defaultToolbarControlsConfiguration[control.name]\n        );\n    }\n\n    getTranslations() {\n        const lang = this.getConfigItem('lang');\n        const langTranslations = languages[lang];\n        const customTranslations = this.config.translations || {};\n        return mergeDeep(langTranslations, customTranslations);\n    }\n\n    getToolbarPosition() {\n        return this.getConfigItem('toolbar', 'position').toLowerCase();\n    }\n\n    getConfigItem(...keys) {\n        let item = { ...this.config };\n        for (const key of keys) {\n            item = item[key];\n            if (item === undefined) break;\n        }\n\n        if (item !== undefined) return item;\n\n        item = { ...defaultConfig };\n        for (const key of keys) {\n            item = item[key];\n        }\n\n        return item;\n    }\n}\n\nexport default EditorFactories;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nfunction EditorToolbar({ children, visible = true, ...rest }) {\n    return (\n        <Paper hidden={!visible} {...rest}>\n            <Grid container alignItems=\"center\">\n                {children}\n            </Grid>\n        </Paper>\n    );\n}\n\nEditorToolbar.propTypes = {\n    children: PropTypes.any,\n    visible: PropTypes.bool,\n};\n\nexport default EditorToolbar;\n","export default class Translator {\n    constructor(translations) {\n        this.translations = translations;\n    }\n\n    get(id) {\n        if (!id) return '';\n        const keys = id.split('.');\n        let item = this.translations;\n        for (const key of keys) {\n            item = item[key];\n            if (item === undefined) return '';\n        }\n        return item || '';\n    }\n}\n","import blockStyles from '../../types/blockStyles';\n\nexport const blockHTMLMap = {\n    [blockStyles.H1]: 'h1',\n    [blockStyles.H2]: 'h2',\n    [blockStyles.H3]: 'h3',\n    [blockStyles.H4]: 'h4',\n    [blockStyles.H5]: 'h5',\n    [blockStyles.H6]: 'h6',\n    [blockStyles.BLOCKQUOTE]: 'blockquote',\n    [blockStyles.CODE_BLOCK]: 'code',\n    [blockStyles.UNSTYLED]: 'p',\n    [blockStyles.ATOMIC]: 'figure',\n    [blockStyles.UL]: 'li',\n    [blockStyles.OL]: 'li',\n};\n","import entities from '../../types/entities';\n\nexport const entityHTMLMap = {\n    [entities.LINK]: (entity) => [`<a href=\"${entity.getData().url}\" target=\"_blank\">`, '</a>'],\n    [entities.IMAGE]: (entity) => [\n        `<img src=\"${entity.data.src}\" alt=\"\" width=\"${entity.getData().width}\" height=\"${\n            entity.getData().height\n        }\">`,\n        '',\n    ],\n};\n","import inlineStyles from '../../types/inlineStyles';\n\nconst isInlineStyleCollection = (inlineStyle, style) =>\n    inlineStyle.substr(0, style.length) === style;\nconst getInlineStyleCollectionValue = (inlineStyle, style) => inlineStyle.substr(style.length + 1);\nexport const getInlineStylesCss = (inlineStyle) => {\n    switch (inlineStyle) {\n        case inlineStyles.BOLD:\n            return 'font-weight: bold;';\n        case inlineStyles.ITALIC:\n            return 'font-style: italic;';\n        case inlineStyles.UNDERLINE:\n            return 'text-decoration: underline;';\n        case inlineStyles.STRIKETHROUGH:\n            return 'text-decoration: line-through;';\n        case inlineStyles.CODE:\n            return 'font-family: monospace;';\n        default:\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_FAMILY)) {\n                return `font-family: '${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_FAMILY\n                )}';`;\n            }\n\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_SIZE)) {\n                return `font-size: ${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_SIZE\n                )};`;\n            }\n\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_COLOR)) {\n                return `color: ${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_COLOR\n                )};`;\n            }\n\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_BACKGROUND)) {\n                return `background-color: ${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_BACKGROUND\n                )};`;\n            }\n\n            return '';\n    }\n};\n","import { blockHTMLMap } from './block';\nimport { entityHTMLMap } from './entity';\nimport { getInlineStylesCss } from './inlineStyle';\nimport blockStyles from '../../types/blockStyles';\n\nconst toHTML = (contentState) => {\n    let html = '';\n    let isListBlock = false;\n    const blockMap = contentState.getBlockMap();\n    let blockCount = 0;\n    for (const blockData of blockMap) {\n        const block = blockData[1];\n        // Block tags\n        const blockTag = blockHTMLMap[block.getType()];\n        const blockStyle = block.getData().has('textAlign')\n            ? `text-align:${block.getData().get('textAlign')};`\n            : null;\n        let blockOpenTag = blockTag\n            ? `<${blockTag}${blockStyle ? ` style=\"${blockStyle}\"` : ''}>`\n            : '';\n        let blockCloseTag = blockTag ? `</${blockTag}>` : '';\n\n        if (block.getType() === blockStyles.UL || block.getType() === blockStyles.OL) {\n            if (!isListBlock) {\n                blockOpenTag = `${\n                    block.getType() === blockStyles.UL ? '<ul>' : '<ol>'\n                }${blockOpenTag}`;\n            }\n            // if is the last block closes the list\n            if (blockCount === blockMap.length - 1) {\n                blockCloseTag = `${blockCloseTag}${\n                    block.getType() === blockStyles.UL ? '</ul>' : '</ol>'\n                }`;\n            }\n            isListBlock = true;\n        } else {\n            // Closes the previous opened list\n            if (isListBlock) {\n                blockOpenTag = `${\n                    block.getType() === blockStyles.UL ? '</ul>' : '</ol>'\n                }${blockOpenTag}`;\n            }\n            isListBlock = false;\n        }\n\n        if (block.getLength() === 0) {\n            html += blockOpenTag + blockCloseTag;\n            continue;\n        }\n\n        html += blockOpenTag;\n        let lastEntityKey = null;\n        const currentOpenedStylesMap = {};\n        for (const charIndex in block.getText()) {\n            const isLastChar = parseInt(charIndex) === block.getLength() - 1;\n            // Entities\n            let entityOpenTag = '';\n            let entityCloseTag = '';\n            const currentEntityKey = block.getEntityAt(charIndex);\n            if (currentEntityKey !== lastEntityKey) {\n                if (lastEntityKey === null) {\n                    const entity = contentState.getEntity(currentEntityKey);\n                    entityOpenTag = entityHTMLMap[entity.getType()](entity)[0];\n                } else if (currentEntityKey === null) {\n                    const entity = contentState.getEntity(lastEntityKey);\n                    entityCloseTag = entityHTMLMap[entity.getType()](entity)[1];\n                } else {\n                    const entityHaveToClose = contentState.getEntity(lastEntityKey);\n                    const entityHaveToOpen = contentState.getEntity(currentEntityKey);\n                    entityOpenTag =\n                        entityHTMLMap[entityHaveToClose.getType()](entityHaveToClose)[0] +\n                        entityHTMLMap[entityHaveToOpen.getType()](entityHaveToOpen)[1];\n                }\n            } else if (currentEntityKey !== null && isLastChar) {\n                const entity = contentState.getEntity(currentEntityKey);\n                entityCloseTag = entityHTMLMap[entity.getType()](entity)[1];\n            }\n\n            // Inline styles\n            const charInlineStyles = block.getInlineStyleAt(charIndex);\n            const styleCloseTagBeforeList = [];\n            const styleOpenTagList = [];\n            const styleCloseTagList = [];\n            const styleCloseTagOpenIndexList = [];\n            const styleCloseTagBeforeOpenIndexList = [];\n\n            for (const inlineStyle of charInlineStyles) {\n                if (currentOpenedStylesMap[inlineStyle] === undefined) {\n                    styleOpenTagList.push(inlineStyle);\n                    currentOpenedStylesMap[inlineStyle] = charIndex;\n                } else if (entityOpenTag || entityCloseTag) {\n                    styleCloseTagBeforeList.push(inlineStyle);\n                    styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                } else if (isLastChar) {\n                    styleCloseTagList.push(inlineStyle);\n                    styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                }\n            }\n\n            for (const inlineStyle in currentOpenedStylesMap) {\n                if (\n                    !charInlineStyles.includes(inlineStyle) &&\n                    !styleCloseTagList.includes(inlineStyle) &&\n                    !styleCloseTagBeforeList.includes(inlineStyle)\n                ) {\n                    styleCloseTagBeforeList.push(inlineStyle);\n                    styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                } else if (isLastChar) {\n                    styleCloseTagList.push(inlineStyle);\n                    styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                }\n            }\n\n            for (const closedIndex of styleCloseTagOpenIndexList) {\n                for (const inlineStyle in currentOpenedStylesMap) {\n                    if (currentOpenedStylesMap[inlineStyle] > closedIndex) {\n                        styleCloseTagList.push(inlineStyle);\n                        styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                        delete currentOpenedStylesMap[inlineStyle];\n                    }\n                }\n            }\n\n            for (const closedIndex of styleCloseTagBeforeOpenIndexList) {\n                for (const inlineStyle in currentOpenedStylesMap) {\n                    if (\n                        currentOpenedStylesMap[inlineStyle] < charIndex &&\n                        currentOpenedStylesMap[inlineStyle] > closedIndex\n                    ) {\n                        styleCloseTagBeforeList.push(inlineStyle);\n                        styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                        delete currentOpenedStylesMap[inlineStyle];\n                        if (charInlineStyles.includes(inlineStyle)) {\n                            styleOpenTagList.push(inlineStyle);\n                            currentOpenedStylesMap[inlineStyle] = charIndex;\n                        }\n                    }\n                }\n            }\n\n            // HTML Build\n            let j = 0;\n            while (j < styleCloseTagBeforeList.length) {\n                html += '</span>';\n                j++;\n            }\n            html += entityOpenTag;\n            for (const style of styleOpenTagList) {\n                html += '<span style=\"' + getInlineStylesCss(style) + '\">';\n            }\n            html += block.getText()[charIndex];\n            let k = 0;\n            while (k < styleCloseTagList.length) {\n                html += '</span>';\n                k++;\n            }\n            html += entityCloseTag;\n\n            lastEntityKey = currentEntityKey;\n        }\n        html += blockCloseTag;\n        blockCount++;\n    }\n    return html;\n};\n\nexport default toHTML;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Editor, EditorState, RichUtils } from 'draft-js';\nimport EditorFactories from './utils/EditorFactories';\nimport EditorToolbar from './EditorToolbar';\nimport Paper from '@material-ui/core/Paper';\nimport { defaultConfig } from './types/config';\nimport Translator from './lang/Translator';\nimport { makeStyles } from '@material-ui/styles';\nimport toHTML from './conversion/toHTML';\nimport useEditor from './hooks/useEditor';\nimport useEditorFocus from './hooks/useEditorFocus';\nimport 'draft-js/dist/Draft.css';\n\nexport { toolbarControlTypes } from './types/editorToolbar';\nexport { LANG_PREFIX } from './types/lang';\nexport { fileToBase64 } from './utils/fileUtils';\nexport { toHTML, useEditor, useEditorFocus };\n\nexport const EditorContext = React.createContext({});\n\nexport const MUIEditorState = {\n    createEmpty: (config) => {\n        const editorFactories = new EditorFactories(config);\n        return EditorState.createEmpty(editorFactories.getCompositeDecorator());\n    },\n    createWithContent: (config, contentState) => {\n        const editorFactories = new EditorFactories(config);\n        return EditorState.createWithContent(contentState, editorFactories.getCompositeDecorator());\n    },\n};\n\nconst useStyles = makeStyles((theme) => ({\n    '@global': {\n        '.mui-editor-left-aligned-block': {\n            textAlign: 'left !important',\n            '& > div': {\n                textAlign: 'left !important',\n            },\n        },\n        '.mui-editor-center-aligned-block': {\n            textAlign: 'center !important',\n            '& > div': {\n                textAlign: 'center !important',\n            },\n        },\n        '.mui-editor-right-aligned-block': {\n            textAlign: 'right !important',\n            '& > div': {\n                textAlign: 'right !important',\n            },\n        },\n        '.mui-editor-justify-aligned-block': {\n            textAlign: 'justify !important',\n            '& > div': {\n                textAlign: 'justify !important',\n            },\n        },\n    },\n    editorWrapper: {\n        marginTop: 2, //theme.spacing(2),\n        marginBottom: 2,//theme.spacing(2),\n        padding: 5, //theme.spacing(5),\n    },\n}));\n\n/**\n * Material UI Draft.js editor\n *\n * @version 1.0.3\n * @author [Rubén Albarracín](https://github.com/Kelsier90)\n */\nfunction MUIEditor({\n    editorState,\n    onChange,\n    onFocus = null,\n    onBlur = null,\n    config = defaultConfig,\n}) {\n    const editorFactories = new EditorFactories(config);\n    const editorRef = React.useRef(null);\n    const translateRef = React.useRef(function () { });\n    const translationsRef = React.useRef(null);\n    const toolbarVisibleConfig = editorFactories.getConfigItem('toolbar', 'visible');\n    const [isToolbarVisible, setIsToolbarVisible] = React.useState(toolbarVisibleConfig);\n    const [isResizeImageDialogVisible, setIsResizeImageDialogVisible] = React.useState(false);\n    const [resizeImageEntityKey, setResizeImageEntityKey] = React.useState(null);\n\n    translationsRef.current = editorFactories.getTranslations();\n    translateRef.current = React.useCallback((id) => {\n        const translator = new Translator(translationsRef.current);\n        return translator.get(id);\n    }, []);\n    const classes = useStyles();\n\n    React.useEffect(() => {\n        setIsToolbarVisible(toolbarVisibleConfig);\n    }, [toolbarVisibleConfig]);\n\n    const toolbar = (\n        <EditorToolbar\n            visible={isToolbarVisible}\n            style={editorFactories.getConfigItem('toolbar', 'style')}\n            className={editorFactories.getConfigItem('toolbar', 'className')}>\n            {editorFactories.getToolbarControlComponents()}\n        </EditorToolbar>\n    );\n\n    const top = editorFactories.getToolbarPosition() === 'top' ? toolbar : null;\n    const bottom = editorFactories.getToolbarPosition() === 'bottom' ? toolbar : null;\n\n    const handleKeyCommand = (command) => {\n        const newState = RichUtils.handleKeyCommand(editorState, command);\n        if (newState) {\n            onChange(newState);\n            return 'handled';\n        }\n        return 'not-handled';\n    };\n\n    const handleFocus = (ev) => {\n        if (onFocus) onFocus(ev);\n    };\n\n    const handleBlur = (ev) => {\n        if (onBlur) onBlur(ev);\n    };\n\n    const editorWrapperProps = {\n        style: editorFactories.getConfigItem('editor', 'style'),\n        className: `${classes.editorWrapper} ${editorFactories.getConfigItem(\n            'editor',\n            'className'\n        )}`,\n        onClick: () => editorRef.current.focus(),\n    };\n\n    const editorWrapperElement = editorFactories.getConfigItem('editor', 'wrapperElement');\n\n    if (editorWrapperElement === Paper) {\n        editorWrapperProps.elevation = 3;\n    }\n\n    const EditorWrapper = React.createElement(\n        editorWrapperElement,\n        editorWrapperProps,\n        <Editor\n            {...editorFactories.getConfigItem('draftEditor')}\n            ref={editorRef}\n            editorState={editorState}\n            onChange={onChange}\n            onFocus={(ev) => handleFocus(ev)}\n            onBlur={(ev) => handleBlur(ev)}\n            handleKeyCommand={handleKeyCommand}\n            blockStyleFn={editorFactories.getBlockStyleFn()}\n            customStyleMap={editorFactories.getCustomStyleMap()}\n            blockRenderMap={editorFactories.getBlockRenderMap()}\n            blockRendererFn={editorFactories.getBlockRendererFn()}\n        />\n    );\n\n    return (\n        <EditorContext.Provider\n            value={{\n                editorState,\n                onChange,\n                ref: editorRef.current,\n                translate: translateRef.current,\n                showResizeImageDialog: (entityKey) => {\n                    setIsResizeImageDialogVisible(true);\n                    setResizeImageEntityKey(entityKey);\n                },\n                hideResizeImageDialog: () => {\n                    setIsResizeImageDialogVisible(false);\n                    setResizeImageEntityKey(null);\n                },\n                isResizeImageDialogVisible,\n                resizeImageEntityKey,\n            }}>\n            {top}\n            {EditorWrapper}\n            {bottom}\n        </EditorContext.Provider>\n    );\n}\n\nMUIEditor.displayName = 'MUIEditor';\n\nMUIEditor.propTypes = {\n    /** Immutable object that represents the entire state of the editor */\n    editorState: PropTypes.object.isRequired,\n    /** The function to be executed by the Editor when edits and selection changes occur. The new editor state is passed by parameter. */\n    onChange: PropTypes.func.isRequired,\n    /** The function to be executed by the Editor when a focus event is triggered. The new editor state is passed by parameter. */\n    onFocus: PropTypes.func,\n    /** The function to be executed by the Editor when a blur event is triggered. The new editor state is passed by parameter. */\n    onBlur: PropTypes.func,\n    /** All the editor configuration options */\n    config: PropTypes.object,\n};\n\nMUIEditor.defaultProps = {\n    config: defaultConfig,\n};\n\nexport default MUIEditor;\n"],"names":["DividerControl","useEditor","React","useContext","EditorContext","useEditorFocus","editor","useState","changesCount","setChangesCount","useEffect","ref","focus","currentChangesCount","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_typeof","obj","Symbol","iterator","constructor","isPlainObject","item","deepmerge","options","undefined","clone","output","keys","forEach","_defineProperty","value","defineProperty","enumerable","configurable","writable","specialProperty","exactProp","propTypes","process","env","NODE_ENV","props","unsupportedProps","filter","prop","Error","concat","map","join","fnNameMatchRegex","getFunctionName","fn","match","name","getFunctionComponentName","Component","fallback","displayName","getWrappedName","outerType","innerType","wrapperName","functionName","getDisplayName","$$typeof","ForwardRef","render","Memo","type","hasSymbol","pseudoClasses","createGenerateClassName","_options$disableGloba","disableGlobal","_options$productionPr","productionPrefix","_options$seed","seed","seedPrefix","ruleCounter","getNextCounterId","console","warn","rule","styleSheet","indexOf","link","prefix","theme","nested","suffix","classNamePrefix","isProduction","warning","condition","message","text","x","isBrowser","window","document","nodeType","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","_assertThisInitialized","self","ReferenceError","_objectWithoutPropertiesLoose","excluded","sourceKeys","plainObjectConstrurctor","cloneStyle","style","Array","isArray","newStyle","createRule","decl","jss","declCopy","plugins","onCreateRule","by","result","toCssValue","ignoreImportant","cssValue","indentStr","str","indent","index","toCss","selector","_options","_options$indent","fallbacks","_prop","_value","_prop2","_value2","allowEmpty","escapeRegex","nativeEscape","CSS","escape","replace","BaseStyleRule","isProcessed","renderer","renderable","sheet","Renderer","_proto","force","newValue","onChangeValue","isEmpty","isDefined","remove","removeProperty","setProperty","attached","StyleRule","_BaseStyleRule","_this","selectorText","id","scoped","generateId","_proto2","applyTo","json","toJSON","toString","opts","set","hasChanged","setSelector","replaceRule","get","pluginStyleRule","parent","defaultToStringOptions","children","atRegExp","ConditionalRule","styles","at","query","rules","atMatch","RuleList","add","getRule","addRule","onProcessRule","keyRegExp","pluginConditionalRule","test","defaultToStringOptions$1","nameRegExp","KeyframesRule","frames","nameMatch","keyRegExp$1","refRegExp","findReferencedKeyframe","val","keyframes","replaceRef","refKeyframe","plugin","onProcessStyle","KeyframeRule","_len","args","_key","pluginKeyframeRule","FontFaceRule","keyRegExp$2","pluginFontFaceRule","ViewportRule","pluginViewportRule","SimpleRule","keysMap","pluginSimpleRule","defaultUpdateOptions","forceUpdateOptions","raw","counter","classes","ruleOptions","_this$options","register","splice","unregister","slice","update","data","updateOne","_this$options2","styleRule","onUpdate","nextValue","prevValue","_nextValue","_prevValue","css","StyleSheet","deployed","queue","attach","deploy","detach","push","insertRule","addRules","added","deleteRule","_this$rules","PluginsRegistry","internal","external","registry","onProcessSheet","processedValue","use","newPlugin","reduce","SheetsRegistry","reset","_temp","_ref","globalThis$1","globalThis","Math","Function","ns","moduleId","maxRules","createGenerateId","jssId","String","minify","memoize","getPropertyValue","cssRule","attributeStyleMap","err","getHead","querySelector","findHigherSheet","insertionPoint","findHighestSheet","findCommentNode","head","childNodes","node","nodeValue","trim","findPrevNode","registry$1","element","parentNode","nextSibling","comment","insertStyle","nextNode","insertBefore","insertionPointElement","appendChild","getNonce","getAttribute","_insertRule","container","c","_c","appendRule","cssRules","getValidRuleInsertionIndex","maxIndex","createStyle","el","createElement","textContent","DomRenderer","hasInsertedRules","media","meta","setAttribute","nonce","Boolean","removeChild","insertRules","nativeParent","latestNativeParent","_insertionIndex","refCssRule","ruleStr","insertionIndex","nativeRule","getRules","instanceCounter","Jss","version","isInBrowser","setup","createStyleSheet","removeStyleSheet","createRule$1","getDynamicStyles","to","extracted","hasCSSTOMSupport","now","Date","fnValuesNs","fnRuleNs","functionPlugin","fnValues","fnRule","atPrefix","GlobalContainerRule","GlobalPrefixedRule","substr","separatorRegExp","addScope","scope","parts","split","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","jssGlobal","parentRegExp","jssNested","getReplaceRef","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","j","getOptions","prevOptions","nestingLevel","isNested","isNestedConditional","uppercasePattern","msPattern","cache","toHyphenLower","toLowerCase","hyphenateStyleName","hName","convertCase","converted","hyphenate","camelCase","hyphenatedProp","px","ms","percent","defaultUnits","border","margin","padding","height","width","bottom","left","top","right","inset","motion","outline","perspective","size","gap","grid","addCamelCasedVersion","regExp","toUpperCase","newObj","units","iterate","innerProp","_innerProp","isNaN","unit","defaultUnit","camelCasedOptions","_arrayLikeToArray","arr","len","arr2","_arrayWithoutHoles","arrayLikeToArray","_iterableToArray","iter","from","_unsupportedIterableToArray","minLen","n","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","js","vendor","browser","isTouch","documentElement","jsCssMap","Moz","O","Webkit","_document$createEleme","testProp","supportedKeyframes","appearence","noPrefill","supportedProperty","colorAdjust","toUpper","camelize","pascalize","mask","longhand","textOrientation","transform","transition","writingMode","userSelect","breakPropsOld","jsProp","_jsProp","inlineLogicalOld","newProp","unprefixed","prefixed","pascalized","scrollSnap","substring","overscrollBehavior","propMap","order","flex2012","propMap$1","flex","propKeys","prefixCss","flex2009","multiple","propertyDetectors","a","computed","getComputedStyle","key$1","cache$1","transitionProperties","transPropsRegExp","el$1","prefixTransitionCallback","p1","p2","prefixedValue","supportedValue","property","parseInt","cacheKey","jssVendorPrefixer","atRule","prefixStyle","changeProp","supportedProp","changeValue","supportedValue$1","jssPropsSort","sort","prop0","prop1","jssPreset","functions","global","vendorPrefixer","propsSort","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","mergeClasses","baseClasses","newClasses","nextClasses","error","multiKeyStore","key1","key2","subCache","Map","_delete","ThemeContext","createContext","useTheme","useDebugValue","generateClassName","sheetsManager","defaultOptions","disableGeneration","sheetsCache","sheetsRegistry","StylesContext","injectFirstNode","StylesProvider","_props$injectFirst","injectFirst","_props$disableGenerat","localOptions","outerOptions","context","createComment","firstChild","Provider","PropTypes","isRequired","bool","func","object","serverGenerateClassName","indexCounter","increment","noopTheme","getStylesCreator","stylesOrCreator","themingEnabled","overrides","stylesWithOverrides","getClasses","state","stylesOptions","cacheClasses","lastProp","lastJSS","generate","_ref2","stylesCreator","sheetManager","refs","staticSheet","dynamicStyles","flip","direction","dynamicSheet","_ref3","_ref4","useSynchronousEffect","values","useRef","currentKey","useMemo","current","makeStyles","classNamePrefixOption","_options$defaultTheme","defaultTheme","stylesOptions2","useStyles","instance","shouldUpdate","badge","background","badgeColor","ButtonControl","onClick","disabled","active","rest","vertical","horizontal","any","UndoControl","editorFocus","onChange","EditorState","undo","editorState","translate","RedoControl","redo","toggleMappedInlineStyle","styleKeys","newInlineStyle","selection","getSelection","newContentState","contentState","inlineStyle","Modifier","removeInlineStyle","getCurrentContent","newEditorState","currentStyle","getCurrentInlineStyle","isCollapsed","RichUtils","toggleInlineStyle","has","getCurrentMappedInlineStyle","defaultInlineStyle","find","includes","hasAllSelectionTheInlineStyle","startKey","getStartKey","startOffset","getStartOffset","endKey","getEndKey","endOffset","getEndOffset","currentContent","block","getBlockForKey","allHasTheInlineStyle","styleRangesCallback","start","end","expectedStart","getKey","expectedEnd","getLength","findStyleRanges","character","hasStyle","getBlockAfter","getCurrentBlockType","availableBlockTypes","blockType","avBlockType","applyEntityToCurrentSelection","entityType","mutability","entityData","content","contentWithEntity","createEntity","entityKey","getLastCreatedEntityKey","contentStateWithEntity","applyEntity","ToggleInlineStyleButtonControl","string","isActive","setIsActive","BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","FONT_FAMILY","FONT_SIZE","FONT_COLOR","FONT_BACKGROUND","BoldControl","inlineStyles","ItalicControl","UnderlineControl","StrikethroughControl","LINK","IMAGE","LinkAddControl","isDialogOpened","setIsDialogOpened","setLink","formRef","createRef","handleCloseDialog","onChangeLink","ev","currentTarget","handleSubmit","preventDefault","entities","url","linkStrategy","contentBlock","callback","findEntityRanges","getEntity","getType","EditorLink","blockKey","anchorEl","setAnchorEl","getData","showOptions","hideOptions","openLink","stopPropagation","open","removeLink","linkSelection","SelectionState","createEmpty","merge","anchorKey","anchorOffset","focusKey","focusOffset","toggleLink","number","linkAddPlugin","decorators","strategy","component","LinkRemoveControl","LANG_PREFIX","translateLiteralWithPrefix","literal","translateFn","selectControl","DropdownControl","minWidth","option","array","BlockTypeControl","configuration","defaultConfiguration","setValue","handleChange","toggleBlockType","ToggleBlockTypeButtonControl","UnorderedListControl","H1","H2","H3","H4","H5","H6","UL","OL","BLOCKQUOTE","CODE_BLOCK","UNSTYLED","ATOMIC","OrderedListControl","blockStyles","FontFamilyControl","pluginData","selectedFontFamilyStyle","setSelectedFontFamilyStyle","customStyleMap","fontFamily","fontFamilyPlugin","fontFamilies","TextAlignControl","selectedTextAlign","setSelectedTextAlign","currentBlock","blockData","toggle","textAlign","mergeBlockData","textAlignPlugin","blockStyleFn","FontSizeControl","selectedFontSizeStyle","setSelectedFontSizeStyle","fontSize","fontSizePlugin","fontSizes","isLightOrDark","color","r","g","b","hsp","sqrt","colorRow","display","alignContent","alignItems","colorItem","borderRadius","cursor","ColorSelectorControl","selectedColor","onSelectColor","colors","colorsPerRow","menuId","random","colorRows","rowI","handleOpen","handleClose","colorRowI","colorData","backgroundColor","ToggleInlineStyleColorSelectorControl","colorCssProp","setSelectedColor","selectededInlineStyle","handleSelectColor","selectedColorData","FontColorControl","fontColorPlugin","fontColors","fontColor","FontBackgroundColorControl","fontBackgroundColorPlugin","fontBgs","fontBg","imgWrapper","maxWidth","maxHeight","overflow","marginTop","spacing","marginBottom","ImageToUpload","src","SizeInputs","originalWidth","originalHeight","onChangeWidth","onChangeHeight","maintainAspectRatio","setMaintainAspectRatio","aspectRatio","handleChangeWidth","w","round","handleChangeHeight","h","handleClickAspectRatio","newMaintainAspectRatio","ByUrlDialog","onClose","onSubmit","imageURL","setImageURL","imageWidth","setImageWidth","imageOriginalWidth","setImageOriginalWidth","imageHeight","setImageHeight","imageOriginalHeight","setImageOriginalHeight","isUploading","setIsUploading","isValidImage","setIsValidImage","hasError","setHasError","changeTimeout","setChangeTimeout","resetForm","handleURLChange","clearTimeout","setTimeout","image","Image","onload","onerror","dropArea","highlightDropArea","boxSizing","justifyContent","UploadDialog","uploadCallback","errorMessage","setErrorMessage","setHighlightDropArea","inputFileRef","handleClickDropArea","click","handleDragEnter","handleDragLeave","handleDragOver","handleDrop","files","dataTransfer","onSelectFile","handleInputFileChange","file","selectedImageUrl","e","dropAreaContent","ResizeImageDialog","onSave","setWidth","setHeight","ImageControl","isUploadDialogOpened","setIsUploadDialogOpened","isUrlDialogOpened","setIsUrlDialogOpened","imageEntityToResize","resizeImageEntityKey","handleSubmitImage","AtomicBlockUtils","insertAtomicBlock","handleResizeImage","hideResizeImageDialog","mergeEntityData","isResizeImageDialogVisible","EditorMedia","entity","getEntityAt","imgInfo","EditorImage","infoAnchorEl","setInfoAnchorEl","imageAlign","align","imageSelection","setBlockData","removeImage","removeRange","blockMap","getBlockMap","firstBlock","getFirstBlock","selectionToStart","selectionAfter","showResizeImageDialog","oneOfType","imagePlugin","blockRendererFn","editable","fileToBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","toolbarControlTypes","divider","bold","italic","underline","strikethrough","fontBackgroundColor","linkAdd","linkRemove","unorderedList","orderedList","defaultToolbarControls","defaultToolbarControlsConfiguration","defaultConfig","lang","translations","draftEditor","wrapperElement","Paper","className","toolbar","visible","position","controls","controlsConfig","isObject","mergeDeep","sources","shift","title","code","labels","noColor","actions","cancel","upload","alignLeft","alignCenter","alignRight","resize","dropImageHere","insertOptions","editOptions","errorMessages","notValidImage","normal","header1","header2","header3","header4","header5","header6","justify","ca","en","es","EditorFactories","config","getCompositeDecorator","getToolbarControls","control","getPluginData","CompositeDecorator","getCustomStyleMap","getBlockRenderMap","renderMap","DefaultDraftBlockRenderMap","blockRenderMap","getBlockStyleFn","classNames","getBlockRendererFn","getConfigItem","getToolbarControlComponents","keyCounter","getToolbarControlConfiguration","controlName","getTranslations","langTranslations","languages","customTranslations","getToolbarPosition","EditorToolbar","Translator","blockHTMLMap","entityHTMLMap","isInlineStyleCollection","getInlineStyleCollectionValue","getInlineStylesCss","toHTML","html","isListBlock","blockCount","blockTag","blockStyle","blockOpenTag","blockCloseTag","lastEntityKey","currentOpenedStylesMap","charIndex","getText","isLastChar","entityOpenTag","entityCloseTag","currentEntityKey","entityHaveToClose","entityHaveToOpen","charInlineStyles","getInlineStyleAt","styleCloseTagBeforeList","styleOpenTagList","styleCloseTagList","styleCloseTagOpenIndexList","styleCloseTagBeforeOpenIndexList","closedIndex","k","MUIEditorState","editorFactories","createWithContent","editorWrapper","MUIEditor","onFocus","onBlur","editorRef","translateRef","translationsRef","toolbarVisibleConfig","isToolbarVisible","setIsToolbarVisible","setIsResizeImageDialogVisible","setResizeImageEntityKey","useCallback","translator","handleKeyCommand","command","newState","handleFocus","handleBlur","editorWrapperProps","editorWrapperElement","elevation","EditorWrapper","defaultProps"],"mappings":"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"}